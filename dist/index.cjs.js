"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=[],e=[];function n(n,o){if(n&&"undefined"!=typeof document){var i,r=!0===o.prepend?"prepend":"append",a=!0===o.singleTag,s="string"==typeof o.container?document.querySelector(o.container):document.getElementsByTagName("head")[0];if(a){var l=t.indexOf(s);-1===l&&(l=t.push(s)-1,e[l]={}),i=e[l]&&e[l][r]?e[l][r]:e[l][r]=d()}else i=d();65279===n.charCodeAt(0)&&(n=n.substring(1)),i.styleSheet?i.styleSheet.cssText+=n:i.appendChild(document.createTextNode(n))}function d(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),o.attributes)for(var e=Object.keys(o.attributes),n=0;n<e.length;n++)t.setAttribute(e[n],o.attributes[e[n]]);var i="prepend"===r?"afterbegin":"beforeend";return s.insertAdjacentElement(i,t),t}}n('@import url("https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;800;900&display=swap");\n.color-picker,\n.color-picker::before,\n.color-picker::after,\n.color-picker *,\n.color-picker *::before,\n.color-picker *::after {\n  box-sizing: border-box; }\n\n.color-picker {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  box-shadow: 1px 3px 6px rgba(0, 0, 0, 0.5); }\n\n.color-picker > div {\n  display: flex;\n  height: 10em;\n  border: 1px solid #000;\n  color: #000; }\n\n.color-picker > div * {\n  border-color: inherit;\n  color: inherit; }\n\n.color-picker i {\n  font: inherit;\n  font-size: 12px;\n  /* Measure the color picker control size by measuring the text size */ }\n\n.color-picker\\:a,\n.color-picker\\:h,\n.color-picker\\:sv {\n  background-size: 100% 100%;\n  position: relative;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent; }\n\n.color-picker\\:a div,\n.color-picker\\:h div,\n.color-picker\\:sv div {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0; }\n\n.color-picker\\:a,\n.color-picker\\:h {\n  width: 1.5em;\n  border-left: 1px solid;\n  cursor: ns-resize;\n  overflow: hidden; }\n\n.color-picker\\:a i,\n.color-picker\\:h i {\n  display: block;\n  height: .5em;\n  position: absolute;\n  top: -.25em;\n  right: 0;\n  left: 0;\n  z-index: 2; }\n\n.color-picker\\:a i::before,\n.color-picker\\:h i::before {\n  display: block;\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: .25em solid;\n  border-top-color: transparent;\n  border-bottom-color: transparent; }\n\n.color-picker\\:a div {\n  z-index: 2; }\n\n.color-picker\\:a div + div {\n  background-image: linear-gradient(45deg, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%, #ddd 100%), linear-gradient(45deg, #ddd 25%, #fff 25%, #fff 75%, #ddd 75%, #ddd 100%);\n  background-size: .5em .5em;\n  background-position: 0 0, .25em .25em;\n  z-index: 1; }\n\n.color-picker\\:h div {\n  background-image: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); }\n\n.color-picker\\:sv {\n  width: 10em;\n  cursor: crosshair;\n  overflow: hidden; }\n\n.color-picker\\:sv div + div {\n  background-image: linear-gradient(to right, #fff, rgba(255, 255, 255, 0)); }\n\n.color-picker\\:sv div + div + div {\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)); }\n\n.color-picker\\:sv i {\n  display: block;\n  width: .75em;\n  height: .75em;\n  position: absolute;\n  top: -.375em;\n  right: -.375em;\n  z-index: 2; }\n\n.color-picker\\:sv i::before {\n  display: block;\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 1px solid #fff;\n  border-radius: 100%;\n  box-shadow: 0 0 2px #000; }\n\n#workflow-makr-chart-container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background-color: #efefef;\n  overflow: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start; }\n  #workflow-makr-chart-container a {\n    text-decoration: none; }\n\n* {\n  margin: 0;\n  padding: 0; }\n\nbody {\n  background: #22659c; }\n\n.workflow-makr-org {\n  display: flex;\n  justify-content: center;\n  font-family: \'Lato\', sans-serif; }\n  .workflow-makr-org ul {\n    padding-top: 20px;\n    position: relative;\n    transition: all 0.5s; }\n    .workflow-makr-org ul ul::before {\n      content: \'\';\n      position: absolute;\n      top: 0;\n      left: 50%;\n      border-left: 1px solid #ccc;\n      width: 50%;\n      height: 20px; }\n  .workflow-makr-org li {\n    float: left;\n    text-align: center;\n    list-style-type: none;\n    position: relative;\n    padding: 20px 10px;\n    transition: all 0.5s; }\n    .workflow-makr-org li.end {\n      float: none;\n      margin: 0 auto; }\n    .workflow-makr-org li::before, .workflow-makr-org li::after {\n      content: \'\';\n      position: absolute;\n      top: 0;\n      right: 50%;\n      border-top: 1px solid #ccc;\n      width: 50%;\n      height: 19px; }\n    .workflow-makr-org li::after {\n      right: auto;\n      left: 50%;\n      border-left: 1px solid #ccc; }\n    .workflow-makr-org li:only-child::after, .workflow-makr-org li:only-child::before {\n      border-radius: 0 !important;\n      right: calc(50% - 1px); }\n    .workflow-makr-org li:first-child::before, .workflow-makr-org li:last-child::after {\n      border: 0 none; }\n    .workflow-makr-org li:last-child::before {\n      border-right: 1px solid #ccc;\n      border-radius: 0 6px 0 0; }\n    .workflow-makr-org li:first-child::after {\n      border-radius: 6px 0 0 0; }\n    .workflow-makr-org li .node {\n      text-decoration: none;\n      color: #666;\n      display: inline-block;\n      padding: 20px 10px;\n      transition: all 0.5s;\n      background: #fff;\n      width: 180px;\n      border-radius: 6px;\n      position: relative;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24); }\n      .workflow-makr-org li .node.start, .workflow-makr-org li .node.end {\n        width: 50px;\n        min-width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        padding: 0;\n        background: #cecece;\n        line-height: 50px;\n        font-size: 10px;\n        font-weight: 900;\n        letter-spacing: 1px;\n        color: #333;\n        position: relative; }\n      .workflow-makr-org li .node.end {\n        background: #22659c;\n        color: #fff; }\n      .workflow-makr-org li .node:not(.start):not(.end):hover {\n        background: #dfecf8;\n        color: #002A50;\n        transition: all 0.15s; }\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul li::after,\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul li::before,\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul::before,\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul ul::before {\n        border-width: 2px;\n        border-color: #94a0b4; }\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul li:only-child::before {\n        right: calc(50% - 2px); }\n      .workflow-makr-org li .node:not(.start):not(.end).to-delete,\n      .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) {\n        background: #f6cdd1; }\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li::after,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul ul::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li::after,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul ul::before {\n          border-width: 2px;\n          border-color: #dc3545; }\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li:only-child::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li:only-child::before {\n          right: calc(50% - 2px); }\n      .workflow-makr-org li .node:hover .add-btn,\n      .workflow-makr-org li .node:hover .delete-btn,\n      .workflow-makr-org li .node:hover .edit-btn {\n        opacity: .8; }\n        .workflow-makr-org li .node:hover .add-btn:hover,\n        .workflow-makr-org li .node:hover .delete-btn:hover,\n        .workflow-makr-org li .node:hover .edit-btn:hover {\n          opacity: 1; }\n      .workflow-makr-org li .node > div,\n      .workflow-makr-org li .node > a {\n        font-size: 12px; }\n      .workflow-makr-org li .node .status {\n        font-size: 18px;\n        float: none;\n        margin: 0 auto; }\n      .workflow-makr-org li .node .action {\n        font-weight: 700;\n        font-size: 13px;\n        color: #22659c;\n        text-transform: uppercase;\n        position: absolute;\n        top: -15px;\n        font-size: 10px;\n        right: calc(50% - 45px);\n        width: 100%;\n        text-align: center;\n        background: #efefef;\n        padding: 0;\n        z-index: 2; }\n      .workflow-makr-org li .node .add-btn,\n      .workflow-makr-org li .node .delete-btn,\n      .workflow-makr-org li .node .edit-btn {\n        cursor: pointer;\n        text-decoration: none;\n        position: absolute;\n        z-index: 2;\n        opacity: 0;\n        transition: opacity 0.2s ease-in-out; }\n      .workflow-makr-org li .node .add-btn {\n        bottom: -18px;\n        right: calc(50% - 8.5px); }\n      .workflow-makr-org li .node .delete-btn {\n        top: 3px;\n        right: 3px; }\n      .workflow-makr-org li .node .edit-btn {\n        top: 3px;\n        right: 25px;\n        border-radius: 50%;\n        background-color: transparent; }\n      .workflow-makr-org li .node.start .add-btn {\n        bottom: -18px; }\n      .workflow-makr-org li .node .status,\n      .workflow-makr-org li .node .action {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: 15ch; }\n      .workflow-makr-org li .node .delete-confirmation,\n      .workflow-makr-org li .node .save-form {\n        display: none; }\n      .workflow-makr-org li .node.saving {\n        background-color: #dfecf8; }\n        .workflow-makr-org li .node.saving .status,\n        .workflow-makr-org li .node.saving .action,\n        .workflow-makr-org li .node.saving .edit-btn,\n        .workflow-makr-org li .node.saving .add-btn,\n        .workflow-makr-org li .node.saving .delete-btn {\n          display: none; }\n        .workflow-makr-org li .node.saving .save-form {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: flex-start; }\n          .workflow-makr-org li .node.saving .save-form label {\n            font-size: 11px;\n            font-weight: 800;\n            margin-bottom: 5px; }\n          .workflow-makr-org li .node.saving .save-form input {\n            background-color: transparent;\n            outline: none;\n            box-shadow: none;\n            border: none;\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n            padding: 5px;\n            margin-bottom: 10px;\n            font-size: 13px;\n            font-weight: 300;\n            width: calc(100% - 10px); }\n          .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) {\n            width: 100%;\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            align-items: center; }\n            .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a {\n              padding: 5px 10px;\n              border-radius: 6px;\n              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n              background-color: #ffffff; }\n              .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a[data-update-transition], .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a[data-create-transition] {\n                background-color: #22659c;\n                margin-right: 5px;\n                color: #ffffff; }\n              .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a:hover {\n                cursor: pointer;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.42); }\n      .workflow-makr-org li .node.to-delete .status {\n        display: none; }\n      .workflow-makr-org li .node.to-delete .edit-btn,\n      .workflow-makr-org li .node.to-delete .add-btn,\n      .workflow-makr-org li .node.to-delete .delete-btn,\n      .workflow-makr-org li .node.to-delete + ul li .node:not(.end) .edit-btn,\n      .workflow-makr-org li .node.to-delete + ul li .node:not(.end) .add-btn,\n      .workflow-makr-org li .node.to-delete + ul li .node:not(.end) .delete-btn {\n        display: none; }\n      .workflow-makr-org li .node.to-delete .delete-confirmation {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        text-align: center; }\n        .workflow-makr-org li .node.to-delete .delete-confirmation > div {\n          display: flex;\n          flex-direction: row;\n          justify-content: space-between;\n          align-items: center; }\n        .workflow-makr-org li .node.to-delete .delete-confirmation p {\n          font-size: 12px;\n          font-weight: 600;\n          margin-bottom: 5px; }\n        .workflow-makr-org li .node.to-delete .delete-confirmation a {\n          padding: 5px 10px;\n          border-radius: 6px;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n          background-color: #ffffff; }\n          .workflow-makr-org li .node.to-delete .delete-confirmation a[data-delete-transition] {\n            background-color: #dc3545;\n            margin-right: 5px;\n            color: #ffffff; }\n          .workflow-makr-org li .node.to-delete .delete-confirmation a:hover {\n            cursor: pointer;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.42); }\n  .workflow-makr-org > ul > li:before {\n    border: 0 none !important; }\n\n#loading-workflow-makr,\n#deleting-transition-loader,\n#saving-transition-loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  min-width: 1200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: #22659c;\n  transition: opacity 0.45s ease-in-out;\n  z-index: 999; }\n\n#deleting-transition-loader,\n#saving-transition-loader {\n  background-color: rgba(34, 101, 156, 0.3); }\n\n.loader {\n  height: 32px;\n  width: 32px;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto; }\n  .loader span {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    height: 32px;\n    width: 32px; }\n  .loader span::before {\n    content: "";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    height: 32px;\n    width: 32px;\n    border: 3px solid #FFF;\n    border-bottom: 3px solid transparent;\n    border-radius: 50%;\n    -webkit-animation: loader-1 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n    animation: loader-1 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite; }\n  .loader span::after {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 6px;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    width: 6px;\n    height: 6px;\n    background: transparent;\n    border-radius: 50%;\n    -webkit-animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n    animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite; }\n\n@-webkit-keyframes loader-1 {\n  0% {\n    -webkit-transform: rotate(0deg); }\n  40% {\n    -webkit-transform: rotate(180deg); }\n  60% {\n    -webkit-transform: rotate(180deg); }\n  100% {\n    -webkit-transform: rotate(360deg); } }\n\n@keyframes loader-1 {\n  0% {\n    transform: rotate(0deg); }\n  40% {\n    transform: rotate(180deg); }\n  60% {\n    transform: rotate(180deg); }\n  100% {\n    transform: rotate(360deg); } }\n\n@-webkit-keyframes loader-2 {\n  0% {\n    -webkit-transform: translate3d(0, -32px, 0) scale(0, 2);\n    opacity: 0; }\n  50% {\n    -webkit-transform: translate3d(0, 0, 0) scale(1.25, 1.25);\n    opacity: 1; }\n  100% {\n    -webkit-transform: translate3d(0, 8px, 0) scale(0, 0);\n    opacity: 0; } }\n\n@keyframes loader-2 {\n  0% {\n    transform: translate3d(0, -32px, 0) scale(0, 2);\n    opacity: 0; }\n  50% {\n    transform: translate3d(0, 0, 0) scale(1.25, 1.25);\n    opacity: 1; }\n  100% {\n    transform: translate3d(0, 8px, 0) scale(0, 0);\n    opacity: 0; } }\n\n@keyframes fadeInUp {\n  from {\n    transform: translate3d(0, -40px, 0); }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1; } }\n\n@-webkit-keyframes fadeInUp {\n  from {\n    transform: translate3d(0, -40px, 0); }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1; } }\n\n.toastify {\n  font-family: \'Lato\', sans-serif; }\n  .toastify ul {\n    list-style: none;\n    padding: 0; }\n    .toastify ul li {\n      list-style: none; }\n\n.color-picker-container {\n  display: flex !important;\n  flex-direction: column !important;\n  justify-content: flex-start !important;\n  align-items: flex-start !important; }\n  .color-picker-container label {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 4px; }\n    .color-picker-container label .color-chosen {\n      width: 6px;\n      height: 6px;\n      border-radius: 50%;\n      border: 1px solid #000000;\n      background-color: #e5e5e5; }\n\n.color-pickers {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  border: 1px solid #000;\n  border-top-width: 0;\n  overflow: hidden;\n  width: 100%;\n  height: 1.25em; }\n  .color-pickers span {\n    width: 10%;\n    height: 1.25em;\n    cursor: pointer; }\n\n.autocomplete-container {\n  position: relative; }\n  .autocomplete-container input {\n    height: 26px; }\n  .autocomplete-container .loader {\n    visibility: hidden;\n    opacity: 0;\n    width: 20px;\n    height: 20px;\n    top: 0;\n    right: 12px;\n    left: unset;\n    bottom: unset; }\n    .autocomplete-container .loader > span {\n      height: 20px;\n      width: 20px; }\n      .autocomplete-container .loader > span:before {\n        height: 20px;\n        width: 20px;\n        border: 3px solid #8bbde6;\n        border-bottom: 3px solid transparent; }\n      .autocomplete-container .loader > span:after {\n        width: 4px;\n        height: 4px;\n        background: transparent; }\n  .autocomplete-container.loading .loader {\n    visibility: visible;\n    opacity: 1; }\n\n.autocomplete,\n.autocomplete-result {\n  box-sizing: border-box; }\n\n.autocomplete-result {\n  display: none;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-top: 0;\n  position: absolute;\n  overflow: auto;\n  max-height: 93px;\n  background: #fff;\n  width: 100%;\n  top: 27px;\n  z-index: 3; }\n  .autocomplete-result p {\n    padding: 5px 10px;\n    margin: 0;\n    text-align: left;\n    color: #000; }\n    .autocomplete-result p:nth-child(2n+1) {\n      background: #f6f6f6; }\n    .autocomplete-result p:hover {\n      cursor: pointer;\n      background: #e5e5e5; }\n',{});n("/*!\n * Toastify js 1.11.2\n * https://github.com/apvarun/toastify-js\n * @license MIT licensed\n *\n * Copyright (C) 2018 Varun A P\n */\n\n.toastify {\n    padding: 12px 20px;\n    color: #ffffff;\n    display: inline-block;\n    box-shadow: 0 3px 6px -1px rgba(0, 0, 0, 0.12), 0 10px 36px -4px rgba(77, 96, 232, 0.3);\n    background: -webkit-linear-gradient(315deg, #73a5ff, #5477f5);\n    background: linear-gradient(135deg, #73a5ff, #5477f5);\n    position: fixed;\n    opacity: 0;\n    transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n    max-width: calc(50% - 20px);\n    z-index: 2147483647;\n}\n\n.toastify.on {\n    opacity: 1;\n}\n\n.toast-close {\n    opacity: 0.4;\n    padding: 0 5px;\n}\n\n.toastify-right {\n    right: 15px;\n}\n\n.toastify-left {\n    left: 15px;\n}\n\n.toastify-top {\n    top: -150px;\n}\n\n.toastify-bottom {\n    bottom: -150px;\n}\n\n.toastify-rounded {\n    border-radius: 25px;\n}\n\n.toastify-avatar {\n    width: 1.5em;\n    height: 1.5em;\n    margin: -7px 5px;\n    border-radius: 2px;\n}\n\n.toastify-center {\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    max-width: fit-content;\n    max-width: -moz-fit-content;\n}\n\n@media only screen and (max-width: 360px) {\n    .toastify-right, .toastify-left {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n        max-width: fit-content;\n    }\n}\n",{});const o='<div id="deleting-transition-loader"><div class="loader"><span></span></div></div>',i='<div id="saving-transition-loader"><div class="loader"><span></span></div></div>',r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVQ4jaWSO2hTYRzFz3dThz6GEiyIaIgSb4IUoUOpGEI6pU2Mdqxg3SwU8bFYx+CgiyBiFmnRQeGGZmhpBRMfZLBDljwoWAht77WpEEQlUVDz7j0OljxKykU84/nO9+N//t8H/KdER/fYmBl9pnHowg4AkLiBn5U3yMXyRkAJdt/M2NXA73BklRlthxlth+HIKsen7/6CwzsNQDrwcv/I5PJc+DV1XSdJJpNJJhIJkqSu65xbiLL/7ORiZ4jdNxN88ZKtCoVCVBSlzXv8fIV7k+yNDAA214B7ZOjh9Sm/UUXcuHIB7uGhR5BHDzcBh/q8U35XjxCdd9oqIQQu+129MPV4AaALAKCbTp22WZBOpxGPxxvhVCoFkigUCg3P6XTCcfI4oEtyEwCKWr2OowNmyLLcCOdyOQBo88xmM75//gGAogkQVNcy23APX4TVam2E8/k8SMLj8bTVWH6/Bkhis7mDWj3ybClWqlRrhjsoV6p4uviuiNputAnQ3n79sPHxTiCoGAICQQXrW9nbUKPf9p9JXWcmVm7dn2exVCZJappGVVVJksVSmTfvzdM0OLGElo+0/90kOPzX5BOWB5d857oHbRYAwLr6CQuReGkzm51FJvIEgH4Q4K+so0fQ3XseFDYAAHe3UK2+wnbsi2HHf9UfUvbrs4JlrH0AAAAASUVORK5CYII=";var a,s,l,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},c={exports:{}};s=d,l=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function o(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,style:{background:""}},e.lib=e.prototype={toastify:"1.11.2",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var o=document.createElement("img");o.src=this.options.avatar,o.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(o):t.insertAdjacentElement("afterbegin",o)}if(!0===this.options.close){var i=document.createElement("span");i.innerHTML="&#10006;",i.className="toast-close",i.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var r=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&r>360?t.insertAdjacentElement("afterbegin",i):t.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var s=n("x",this.options),l=n("y",this.options),d="left"==this.options.position?s:"-"+s,c="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+d+","+c+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},i={top:15,bottom:15},r=document.getElementsByClassName("toastify"),a=0;a<r.length;a++){t=!0===o(r[a],"toastify-top")?"toastify-top":"toastify-bottom";var s=r[a].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(r[a].style[t]=i[t]+"px",i[t]+=s+15):!0===o(r[a],"toastify-left")?(r[a].style[t]=e[t]+"px",e[t]+=s+15):(r[a].style[t]=n[t]+"px",n[t]+=s+15)}return this},e.lib.init.prototype=e.lib,e},(
/*!
 * Toastify js 1.11.2
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */
a=c).exports?a.exports=l():s.Toastify=l();var u=c.exports;const p=t=>Array.isArray(t),f=t=>"function"==typeof t,m=(t,e)=>t&&w(e)&&t instanceof e,g=t=>"number"==typeof t,h=(t,e=!0)=>"object"==typeof t&&(!e||m(t,Object)),w=t=>(t=>void 0!==t)(t)&&!(t=>null===t)(t),b=t=>"string"==typeof t,k=t=>t.toUpperCase(),v=t=>t.length,x=(t,e)=>w(e[0])&&t<e[0]?e[0]:w(e[1])&&t>e[1]?e[1]:t,y=(t,e=10)=>e?parseInt(t,e):parseFloat(t),A=t=>Object.keys(t),E=t=>g(t)?Math.round(t):null,T=(t,e=10)=>g(t)?t.toString(e):""+t,q=(...t)=>{let e=t.shift();for(let o=0,i=v(t);o<i;++o)for(let i in t[o])if(w(e[i]))if(p(e[i])&&p(t[o][i])){e[i]=[].concat(e[i]);for(let r=0,a=v(t[o][i]);r<a;++r)n=t[o][i][r],-1===e[i].indexOf(n)&&e[i].push(t[o][i][r])}else h(e[i])&&h(t[o][i])?e[i]=q({},e[i],t[o][i]):e[i]=t[o][i];else e[i]=t[o][i];var n;return e},S=t=>{if(p(t))return t.map((e=>S(t)));if(h(t)){for(let e in t)t[e]=S(t[e]);return t}return!1===t?"false":null===t?"null":!0===t?"true":""+t},L=document,C=window,z=L.body,M=L.documentElement,N=(t,e)=>e?t.closest(e)||null:t.parentNode||null,H=(t,e)=>(t.removeAttribute(e),t),O=(t,e,n)=>(!0===n&&(n=e),t.setAttribute(e,S(n)),t),_=(t,e)=>(t.append(e),e),B=(t,e,n)=>(t=b(t)?L.createElement(t):t,h(e)&&(n=e,e=!1),b(e)&&F(t,e),h(n)&&((t,e)=>{let n;for(let o in e)n=e[o],n||""===n||0===n?O(t,o,n):H(t,o)})(t,n),t),F=(t,e,n=!0)=>{if(null===e)return t;let o="innerHTML";return((t,e)=>e in t)(t,o)&&(t[o]=n?e.trim():e),t},R=(t,e,n)=>{return g(n)&&(n+="px"),t.style[(o=e,o.replace(/[-_.](\w)/g,((t,e)=>k(e))))]=S(n),t;var o},U=t=>t&&t.preventDefault(),V=(t,e,n)=>{t.forEach((t=>((t,e,n)=>{e.removeEventListener(t,n)})(t,e,n)))},I=(t,e,n,o=!1)=>{t.forEach((t=>((t,e,n,o=!1)=>{e.addEventListener(t,n,o)})(t,e,n,o)))};const P=document,J=window,Q=P.body,X=P.documentElement,W=(t,e)=>{let n=t.touches,o=n?n[0].clientX:t.clientX,i=n?n[0].clientY:t.clientY;if(e){let t=D(e);return[o-t[0],i-t[1],t[0],t[1]]}return[o,i]},D=t=>{let e,n,o,i,r,a,s;return(t=>t===J)(t)?(i=t.pageXOffset||X.scrollLeft||Q.scrollLeft,r=t.pageYOffset||X.scrollTop||Q.scrollTop,o=t.innerWidth,e=t.innerHeight):(n=t.getBoundingClientRect(),i=n.left,r=n.top,o=n.width,e=n.height,a=n.right,s=n.bottom),[i,r,o,e,a,s]},K=["touchstart","mousedown"],Y=["touchmove","mousemove"],Z=["orientationchange","resize"],G=["touchend","mouseup"];let $=C.setTimeout;function tt(t,e){if(t===e)return t;for(;(t=t.parentElement)&&t!==e;);return t}function et(t){let e,n,o,i,r,a,s,l,d=+t[0],c=+t[1],u=+t[2];switch(i=Math.floor(6*d),r=6*d-i,a=u*(1-c),s=u*(1-r*c),l=u*(1-(1-r)*c),i=i||0,s=s||0,l=l||0,i%6){case 0:e=u,n=l,o=a;break;case 1:e=s,n=u,o=a;break;case 2:e=a,n=u,o=l;break;case 3:e=a,n=s,o=u;break;case 4:e=l,n=a,o=u;break;case 5:e=u,n=a,o=s}return[E(255*e),E(255*n),E(255*o),w(t[3])?+t[3]:1]}function nt(t){let e,n,o=+t[0]/255,i=+t[1]/255,r=+t[2]/255,a=Math.max(o,i,r),s=Math.min(o,i,r),l=a,d=a-s;if(n=0===a?0:d/a,a===s)e=0;else{switch(a){case o:e=(i-r)/d+(i<r?6:0);break;case i:e=(r-o)/d+2;break;case r:e=(o-i)/d+4}e/=6}return[e,n,l,w(t[3])?+t[3]:1]}function ot(t,e={}){if(!t)return;if(t.CP)return t.CP;const n=this;if(!m(n,ot))return new ot(t,e);var o;n.state=e=q(ot.state,b(e)?{color:e}:e||{}),ot.instances[t.id||t.name||(o=ot.instances,v(A(o)))]=n,t.CP=n;let{fire:i,hooks:r}=function(t){let e={};return t.hooks=e,t.fire=function(n,o){return w(e[n])?(e[n].forEach((e=>e.apply(t,o))),t):t},t.off=function(n,o){if(!w(n))return e={},t;if(w(e[n]))if(w(o)){for(let t=0,i=e[n].length;t<i;++t)if(o===e[n][t]){e[n].splice(t,1);break}0===j&&delete e[n]}else delete e[n];return t},t.on=function(n,o){return w(e[n])||(e[n]=[]),w(o)&&e[n].push(o),t},t}(n);function a(){return t.value?ot[f(ot[e.color])?e.color:"HEX"](t.value||""):[0,0,0,1]}let s,l,d,c,u=e.class+"__",p=()=>t.disabled,g=()=>t.readOnly,k=a(),y=nt(k),E=B("div",{class:u+"dialog",role:"dialog"}),T=B("div",{class:u+"controls"}),S=u+"control",H=u+"cursor",O=B("div",{class:S+" "+S+"--s/v"}),F=B("div",{class:S+" "+S+"--h"}),P=B("div",{class:S+" "+S+"--a"}),J=B("div"),Q=B("div"),X=B("div"),it=B("i",{class:H+" "+H+"--s/v"}),rt=B("div"),at=B("i",{class:H+" "+H+"--h"}),st=B("div"),lt=B("div"),dt=B("i",{class:H+" "+H+"--a"}),ct=0,ut=0,pt=0,ft=0,mt=0,gt=0;function ht(e){if(r.focus)i("focus",k);else{let n=e.target;t===tt(n,t)?!N(E)&&s():l()}}return _(E,T),_(T,O),_(T,F),_(T,P),_(O,J),_(O,Q),_(O,X),_(O,it),_(F,rt),_(F,at),_(P,st),_(P,lt),_(P,dt),function o(m,b){function v(t){n.current=P,pt=gt=1,q(t),U(t)}function A(t){n.current=F,ut=mt=1,q(t),U(t)}function T(t){n.current=O,ct=ft=1,q(t),U(t)}function q(t){ft&&function(t){let e=W(t,O),n=x(e[0],[0,kt]),o=x(e[1],[0,wt]);y[1]=1-(kt-n)/kt,y[2]=(wt-o)/wt,S()}(t),mt&&function(t){y[0]=(xt-x(W(t,F)[1],[0,xt]))/xt,S()}(t),gt&&function(t){y[3]=(At-x(W(t,P)[1],[0,At]))/At,S()}(t),k=et(y),(ft||mt||gt)&&(i(ct||ut||pt?"start":"drag",k),i("change",k)),ct=ut=pt=0}function S(){!function(t){w(t[1])&&R(it,"right",kt-vt/2-kt*+t[1]),w(t[2])&&R(it,"top",wt-bt/2-wt*+t[2]),w(t[0])&&R(at,"top",xt-yt/2-xt*+t[0]),w(t[3])&&R(dt,"top",At-Et/2-At*+t[3])}(y);let t=et(y),e=et([y[0],1,1]);R(J,"background-color","rgb("+e[0]+","+e[1]+","+e[2]+")"),R(st,"background-image","linear-gradient(rgb("+t[0]+","+t[1]+","+t[2]+"),transparent)")}function H(e){k=et(y);let o=e.target,a=t===tt(o,t),s=E===tt(o,E);n.current=null,a||s?s&&(ft||mt||gt)&&i("stop",k):r.blur?i("blur",k):ft||mt||gt||N(E)&&l(),ft=mt=gt=0}y=nt(k=a()),m||(_(b||z,E),n.visible=!0),s=t=>(p()||g()||(o(0,t),i("enter",k)),n),l=()=>p()||g()?n:(N(E)&&((t=>{let e=N(t);t.remove()})(E),n.current=null,n.visible=!1),V(K,O,T),V(K,F,A),V(K,P,v),V(Y,L,q),V(G,L,H),V(Z,C,c),i("exit",k)),d=e=>{let n=D(M),o=D(t),r=D(C),a=r[3]-M.clientHeight,s=r[2]-n[2],l=D(E),d=l[3],c=l[2],u=o[0]+r[0],p=o[1]+r[1]+o[3];if(h(e))w(e[0])&&(u=e[0]),w(e[1])&&(p=e[1]);else{let t=r[0],e=r[1],n=r[0]+r[2]-c-s,o=r[1]+r[3]-d-a;u=x(u,[t,n])>>0,p=x(p,[e,o])>>0}return R(E,"left",u),R(E,"top",p),i("fit",k)},c=()=>d();let j=D(O),B=D(it),Q=D(F),X=D(at),rt=D(P),lt=D(dt),wt=j[3],bt=B[3],kt=j[2],vt=B[2],xt=Q[3],yt=X[3],At=rt[3],Et=lt[3];var Tt;m?(I(K,t,ht),$((()=>{i("change",k)}),1)):(I(K,O,T),I(K,F,A),I(K,P,v),I(Y,L,q),I(G,L,H),I(Z,C,c),d()),S(),n.color=(t,n,o,i)=>ot[f(ot[e.color])?e.color:"HEX"]([t,n,o,i]),n.current=null,n.enter=s,n.exit=l,n.fit=d,n.get=()=>a(),n.pop=()=>{return t.CP?(delete t.CP,e=u+"source",t.classList.remove(e),V(K,t,ht),l(),i("pop",k)):n;var e},n.set=(t,e,o,r)=>(n._set(t,e,o,r),i("change",[t,e,o,r])),n.self=E,n._set=(t,e,o,i)=>(y=nt([t,e,o,i]),S(),n),Tt=u+"source",t.classList.add(Tt)}(1),n.source=t,n.visible=!1,n}ot.HEX=t=>{if(b(t)){let e=v(t=t.trim());if(4!==e&&7!==e||"#"!==t[0]){if((5===e||9===e)&&"#"===t[0]&&/^#([a-f\d]{3,4}){1,2}$/i.test(t))return 5===e?[y(t[1]+t[1],16),y(t[2]+t[2],16),y(t[3]+t[3],16),y(t[4]+t[4],16)/255]:[y(t[1]+t[2],16),y(t[3]+t[4],16),y(t[5]+t[6],16),y(t[7]+t[8],16)/255]}else if(/^#([a-f\d]{3}){1,2}$/i.test(t))return 4===e?[y(t[1]+t[1],16),y(t[2]+t[2],16),y(t[3]+t[3],16),1]:[y(t[1]+t[2],16),y(t[3]+t[4],16),y(t[5]+t[6],16),1];return[0,0,0,1]}return"#"+("000000"+T(+t[2]|+t[1]<<8|+t[0]<<16,16)).slice(-6)+(w(t[3])&&t[3]<1?T(E(255*t[3])+65536,16).substr(-2):"")},ot.instances={},ot.state={class:"color-picker",color:"HEX"},ot.version="2.4.0";const it="#198754",rt="#dc3545",at="#ffc107";let st,lt={},dt={},ct={},ut=!1,pt={transitions:{add:"Add transition",edit:"Edit transition",delete:"Delete transition",deleteConfirmation:{title:"Are you sure?",deleteBtn:"Yes!",cancelBtn:"No"},saveForm:{action:"Action",newStatus:"New status",saveBtn:"Save",color:"Color",cancelBtn:"Cancel"}},messages:{server:{notResponding:"Error! The server is not responding.",internalError:"Error! The server encountered an internal error."},scenario:{updated:"The scenario is updated successfully"},transitions:{notFound:"Error! Scenario not found.",delete:{alreadyUsed:"The transition or/and one or more of its children are already used"}}}};function ft(t){const e=document.querySelector(t),n=new ot(e);n&&(mt(t),n.on("change",(function(t,n,o,i){this.source.value=this.color(t,n,o,i),e.parentNode.querySelector("label .color-chosen").style.backgroundColor=this.color(t,n,o,i)})),function(t,e){if(t.hasColorPallete)return;t.hasColorPallete=!0;let n,o=document.createElement("span");for(let i=0,r=e.length;i<r;++i)n=document.createElement("span"),n.title="#"+e[i],n.style.backgroundColor="#"+e[i],n.addEventListener("click",(function(e){t.set.apply(t,ot.HEX(this.title)),e.stopPropagation()})),o.appendChild(n);o.className="color-pickers",t.self.appendChild(o)}(n,["e8ecfb","cecece","824d99","4e78c4","57a2ac","7eb875","d0b541","e67f33","ce2220","521a13"]))}function mt(t){const e=ot.instances[t.replace("#","")];if(e){const n=document.querySelector(t);if(n.getAttribute("data-color-picker-value")){const t=ot.HEX(n.getAttribute("data-color-picker-value"));setTimeout((()=>{e.set(t[0],t[1],t[2],t[3])}),1)}else e.set(0,0,0,0)}}function gt(){var t=new XMLHttpRequest;yt("Loading scenario..."),t.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){lt=JSON.parse(this.responseText);const t=document.querySelector("#workflow-makr-chart-container #loading-workflow-makr");t&&(t.style.opacity=0),setTimeout((()=>{yt("Printing scenario..."),function(t){let e="";e+='<div id="workflow-makr-org-container">',e+='<div class="workflow-makr-org">',e+="<ul>",e+='<li data-transition="null">',e+='<div class="node start" data-transition="null">',e+='<img src="'+r+'" data-transition-id="null" class="add-btn" title="'+pt.transitions.add+'"/>',e+="</div>",e+='<ul data-parent="null">',t.forEach((t=>e+=xt(t))),e+="</ul>",e+="</li>",e+="</ul>",e+="</div>",e+="</div>",document.querySelector(st+" #workflow-makr-chart-container").innerHTML=e}(ht(lt.transitions));const t=document.querySelectorAll("[data-color-picker-value]");for(let e=0;e<t.length;++e)ft("#"+t[e].getAttribute("id"));wt()}),500)}else 404==this.status?At(rt,pt.messages.transitions.notFound):500==this.status?At(rt,pt.messages.server.internalError):At(rt,pt.messages.server.notResponding)},t.open("GET",ct.path+"/workflowmakr/scenarios/"+ct.scenario_id,!0),t.setRequestHeader("accept","application/json"),ct.request_headers&&Object.keys(ct.request_headers).forEach((function(e){t.setRequestHeader(e,ct.request_headers[e])})),t.send()}function ht(t,e=0){e++;const n=[];return t.forEach((t=>{n.push({id:t.id,old_status:t.old_status,new_status:t.new_status,action:t.action,color:t.color,predecessor:t.predecessor_id,transitions:ht(t.children,e)}),dt["level-"+e]||(dt["level-"+e]=[]),dt["level-"+e].push(t.id)})),n}function wt(){let t=0;dt&&Object.keys(dt).forEach((function(e){dt[e].length>t&&(t=dt[e].length)})),document.querySelector(st+" #workflow-makr-chart-container").style.minWidth=0==t?"100%":360*t+"px"}function bt(){let t=document.querySelector("#workflow-makr-org-container li.to-create");t&&t.remove(),t=document.querySelector("#workflow-makr-org-container ul:empty"),t&&t.remove(),t=document.querySelector(".node.to-delete"),t&&t.classList.remove("to-delete"),t=document.querySelector(".node.saving"),t&&t.classList.remove("saving"),wt()}function kt(t,e){let n=null;return t.forEach((t=>{t.id==e?n=t:t.children&&t.children.length&&!n&&(n=kt(t.children,e))})),n}function vt(t){t.innerHTML="",t.style.display="none"}function xt(t){let e="";return e+='<li data-transition="'+t.id+'">',e+='<div class="node" data-transition="'+t.id+'">',e+='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1ElEQVQ4jZWTTUiUURSGn/PNzx2SmEqNUhQKwS9y0KxAghZKKEPECLmthZUU0WJmEahbFxHkQIH9YJs2tRByoBoUaShXQUQlgeWYM5gQCrX1jjm3xdRM8zlf1Lu6HM5z73nvOUdwyo6EsDgPdIM0FIJmGZgmzzjzibk/06V4agorlIpjuFgWL5dBuIPWUdJJXbqgKazwB5JgOl1AhyRFbj1MOqktAJSK/zsMYDpRarRQgR0JYck7t7IDykfs7Cka91QzcneCL6vfS3byptXDbnsYpMMNHhro4+TxNiInjlHlF57Mvi36wJKcF+h2gydvDrLwOcOL1/MAZFe+OpyYHqvUqq1weinD4ZDN9qoAT1++If5wxpEpDZYTVn4fiVuDLC5laW+xef8pQ33tDq6NP2Zdb2yp1Po1JEVd7e/lWeoVh1qamVvIUlcTpC92g9yPfAWjZtkLTAP271BHazP762u4NzFD19EDnI66wYDIlIdqewWR4vTtrd1JcJuftdU1rlx/wIYbDAYjFwq9P9g7huGSW2bl1xnjw+TlwidqHQVJ/Qf+HK1jAB4AvqU3Ce57hNe7CzjC35fpNuI7w8dEjoqJdiSER85hTE/ZOotMsWnuO9f5J1WVkw2yAfLvAAAAAElFTkSuQmCC" data-transition-id="'+t.id+'" class="edit-btn" title="'+pt.transitions.edit+'" />',e+='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACD0lEQVQ4T42TTWsTURSG3zMTJ8Quou0PEKlx60fozSQVqaEU8zdctIIbwUX6QaHQTT9BEPsF/o5qqTK17QyTKoorbaL4B9rUhVTSmTlybzJxJo3i3d1z7/vcc95zLqFjOaZ5W/f9MSYqBsAVeaz5/nfo+htiXhMHBx+jEgo377LZi76uPwPwoBMaEzBveInE44LjnMq4ArTErwDc+Zc4PGPgbaDr9yVEAVwhXoQv942M4NiywI1GjKUlk7hcLOJoczOMr+cqlYcka9aC4L2MSnH/7CxObBvVcrkN0QwDmeVlpIVAbWoKx9vbCkLMt6gyMLDORKMqYBi4Pj+PdKGAH7aNw3JZ1ZhZWkI6l0N9Zwe1yUmw54VZrJIrRBXAtTASgzgOQIS0aaK+u4va+HhUDAa+kCNEQwMuxJyWmSwsIJ3Pq/DJ3h6qUnx2FvMlABpdAarmxUX1sgLs7zcBHcYqgJvNHkLXMyFaiVs1S6FclwYHu0KY6LP0YA3AmJq4ZLIpFqJZ88SE8iAzN9cVQszPZRduMtEH1cZSCf0zM+fclsaGkK/T0zja2lKZMdENNUjRVvYOD6MuB+lPq5o9Nwz0Dg1FxSum6z5SADufT2m+/5KAu/8zysRs/ezpKd2zrF/tzyQhCc97Gg7V30BMtHKaSj2R4vZnil5ueTLKQJGBq+oS0TctCF4HmrZhuu6n6P3fcCns3XprXkoAAAAASUVORK5CYII=" data-transition-id="'+t.id+'" class="delete-btn" title="'+pt.transitions.delete+'" />',e+='<div class="action" '+(t.action.designation.length>15?'title = "'+t.action.designation+'"':"")+">"+t.action.designation+"</div>",e+='<div class="status" '+(t.new_status.designation.length>15?'title = "'+t.new_status.designation+'"':"")+">"+t.new_status.designation+"</div>",e+='<img src="'+r+'" data-transition-id="'+t.id+'" class="add-btn" title="'+pt.transitions.add+'" />',e+='<div class="delete-confirmation">            <p>'+pt.transitions.deleteConfirmation.title+'</p>            <div>                <a data-delete-transition="'+t.id+'">'+pt.transitions.deleteConfirmation.deleteBtn+'</a>                <a data-cancel-delete-transition="'+t.id+'">'+pt.transitions.deleteConfirmation.cancelBtn+"</a>            </div>        </div>",e+='<form class="save-form">            <label for="transition-action-'+t.id+'">'+pt.transitions.saveForm.action+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="actions" data-target="#transition-action-autocomplete-'+t.id+'" id="transition-action-'+t.id+'" value="'+t.action.designation+'" />                <div class="autocomplete-result" id="transition-action-autocomplete-'+t.id+'"></div>            </div>            <label for="transition-new-status-'+t.id+'">'+pt.transitions.saveForm.newStatus+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="statuses" data-target="#transition-new-status-autocomplete-'+t.id+'" id="transition-new-status-'+t.id+'" value="'+t.new_status.designation+'" />                <div class="autocomplete-result" id="transition-new-status-autocomplete-'+t.id+'"></div>            </div>            <div class="color-picker-container">                <label for="transition-color-'+t.id+'">'+pt.transitions.saveForm.color+' <span class="color-chosen"></span></label>                <input id="transition-color-'+t.id+'" value="" data-color-picker-value="'+t.color+'" />            </div>            <div>                <a data-update-transition="'+t.id+'">'+pt.transitions.saveForm.saveBtn+'</a>                <a data-cancel-update-transition="'+t.id+'">'+pt.transitions.saveForm.cancelBtn+"</a>            </div>        </form>",e+="</div>",t.transitions&&t.transitions.length&&(e+='<ul data-parent="'+t.id+'">',t.transitions.forEach((t=>{e+=xt(t)})),e+="</ul>"),e+="</li>",e}function yt(t){ct&&ct.debug&&console.log(t)}function At(t,e){const n={text:e,duration:ct.toast_time_out,close:!0,gravity:"top",position:"right",backgroundColor:t,stopOnFocus:!0};u(n).showToast()}exports.init=function(t){ct=t,function(t){t.i18n&&(pt=t.i18n);t.toast_time_out?ct.toast_time_out=t.toast_time_out:ct.toast_time_out=9e3}(t),st=t.selector,document.querySelector(st).innerHTML='<div id="workflow-makr-chart-container"></div>',document.querySelector(st+" #workflow-makr-chart-container").innerHTML='<div id="loading-workflow-makr"><div class="loader"><span></span></div></div>',yt("Initializing the workflow makr ui..."),gt(),document.querySelector(st).addEventListener("click",(function(t){const e=t.target;var n;e.classList.contains("add-btn")&&function(t){bt();const e=t.getAttribute("data-transition-id"),n=e?kt(lt.transitions,t.getAttribute("data-transition-id")):null,o=document.querySelector('li[data-transition="'+e+'"]');let i=document.querySelector('ul[data-parent="'+e+'"]');i||(o.insertAdjacentHTML("beforeend",'<ul data-parent="'+e+'"></ul>'),i=document.querySelector('ul[data-parent="'+e+'"]'));let r="";r+='<li class="to-create">',r+='<div class="node saving">',r+='<form class="save-form">            <label for="transition-action-to-create">'+pt.transitions.saveForm.action+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="actions" data-target="#transition-action-autocomplete-to-create" id="transition-action-to-create" value="" />                <div class="autocomplete-result" id="transition-action-autocomplete-to-create"></div>            </div>            <label for="transition-new-status-to-create">'+pt.transitions.saveForm.newStatus+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="statuses" data-target="#transition-new-status-autocomplete-to-create" id="transition-new-status-to-create" value="" />                <div class="autocomplete-result" id="transition-new-status-autocomplete-to-create"></div>            </div>            <div class="color-picker-container">                <label for="transition-color-to-create">'+pt.transitions.saveForm.color+' <span class="color-chosen"></span></label>                <input id="transition-color-to-create" value="" />            </div>            <div>                <a data-create-transition="'+(n?n.id:null)+'">'+pt.transitions.saveForm.saveBtn+'</a>                <a data-cancel-create-transition="true">'+pt.transitions.saveForm.cancelBtn+"</a>            </div>        </form>",r+="</div>",r+="</li>",i.insertAdjacentHTML("afterbegin",r),wt(),ft("#transition-color-to-create")}(e),e.getAttribute("data-create-transition")&&function(t){document.querySelector(st+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",i);var e=new XMLHttpRequest;yt("Creating transition..."),e.onreadystatechange=function(){if(4==this.readyState&&(200==this.status&&(gt(),At(it,pt.messages.scenario.updated)),404==this.status&&(console.error("Failed creating transition..."),console.error("Error",this.status,this.statusText)),422==this.status)){console.error("Failed creating transition..."),console.error("Error",this.status,this.statusText);const t=JSON.parse(this.responseText).messages;let e="<p>";t.new_status&&t.new_status.forEach((t=>e+=t+"<br />")),t.action&&t.action.forEach((t=>e+=t+"<br />")),t.old_status&&t.old_status.forEach((t=>e+=t+"<br />")),t.predecessor_id&&t.predecessor_id.forEach((t=>e+=t+"<br />")),t.scenario_id&&t.scenario_id.forEach((t=>e+=t+"<br />")),e+="</p>",At(at,e),document.querySelector("#saving-transition-loader").remove()}},e.open("POST",ct.path+"/workflowmakr/transitions",!0),e.setRequestHeader("accept","application/json"),ct.request_headers&&Object.keys(ct.request_headers).forEach((function(t){e.setRequestHeader(t,ct.request_headers[t])}));const n="li.to-create .node.saving .save-form input#transition-action-to-create",o="li.to-create .node.saving .save-form input#transition-new-status-to-create",r="li.to-create .node.saving .save-form input#transition-color-to-create",a=t.getAttribute("data-create-transition"),s=a?kt(lt.transitions,a):null;e.send(JSON.stringify({action:document.querySelector(n).value,old_status:s?s.new_status.designation:null,new_status:document.querySelector(o).value,color:document.querySelector(r).value,predecessor_id:s?s.id:null,scenario_id:lt.id}))}(e),e.getAttribute("data-cancel-create-transition")&&bt(),e.classList.contains("edit-btn")&&function(t){const e=+t.getAttribute("data-transition-id");bt(),document.querySelector('.node[data-transition="'+e+'"]').classList.add("saving")}(e),e.getAttribute("data-cancel-update-transition")&&(n=e,document.querySelector('.node[data-transition="'+n.getAttribute("data-cancel-update-transition")+'"]').classList.remove("saving"),document.querySelector('.node[data-transition="'+n.getAttribute("data-cancel-update-transition")+'"] form.save-form').reset(),document.querySelector('.node[data-transition="'+n.getAttribute("data-cancel-update-transition")+'"] .autocomplete-container').classList.remove("loading"),mt("#transition-color-"+n.getAttribute("data-cancel-update-transition"))),e.getAttribute("data-update-transition")&&function(t){document.querySelector(st+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",i);var e=new XMLHttpRequest;yt("Updating transition..."),e.onreadystatechange=function(){if(4==this.readyState&&(200==this.status&&(gt(),At(it,pt.messages.scenario.updated)),404==this.status&&(console.error("Failed updating transition..."),console.error("Error",this.status,this.statusText)),422==this.status)){console.error("Failed updating transition..."),console.error("Error",this.status,this.statusText);const t=JSON.parse(this.responseText).messages;let e="<p>";t.new_status&&t.new_status.forEach((t=>e+=t+"<br />")),t.action&&t.action.forEach((t=>e+=t+"<br />")),t.old_status&&t.old_status.forEach((t=>e+=t+"<br />")),t.predecessor_id&&t.predecessor_id.forEach((t=>e+=t+"<br />")),e+="</p>",At(at,e),document.querySelector("#saving-transition-loader").remove()}},e.open("PUT",ct.path+"/workflowmakr/transitions/"+t.getAttribute("data-update-transition"),!0),e.setRequestHeader("accept","application/json"),ct.request_headers&&Object.keys(ct.request_headers).forEach((function(t){e.setRequestHeader(t,ct.request_headers[t])}));const n='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-action-'+t.getAttribute("data-update-transition"),o='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-new-status-'+t.getAttribute("data-update-transition"),r='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-color-'+t.getAttribute("data-update-transition"),a=kt(lt.transitions,+t.getAttribute("data-update-transition"));e.send(JSON.stringify({action:document.querySelector(n).value,old_status:a.old_status?a.old_status.designation:null,new_status:document.querySelector(o).value,color:document.querySelector(r).value,predecessor_id:a.predecessor_id}))}(e),e.classList.contains("delete-btn")&&function(t){const e=+t.getAttribute("data-transition-id");bt(),document.querySelector('.node[data-transition="'+e+'"]').classList.add("to-delete")}(e),e.getAttribute("data-cancel-delete-transition")&&function(t){document.querySelector('.node[data-transition="'+t.getAttribute("data-cancel-delete-transition")+'"]').classList.remove("to-delete")}(e),e.getAttribute("data-delete-transition")&&function(t){document.querySelector(st+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",o);var e=new XMLHttpRequest;yt("Deleting transition..."),e.onreadystatechange=function(){4==this.readyState&&(200==this.status&&(gt(),At(it,pt.messages.scenario.updated)),404==this.status&&(console.error("Failed deleting transition..."),console.error("Error",this.status,this.statusText)),422==this.status&&(console.error("Failed deleting transition..."),console.error("Error",this.status,this.statusText),At(at,pt.messages.transitions.delete.alreadyUsed),document.querySelector("#deleting-transition-loader").remove()))},e.open("DELETE",ct.path+"/workflowmakr/transitions/"+t.getAttribute("data-delete-transition"),!0),e.setRequestHeader("accept","application/json"),ct.request_headers&&Object.keys(ct.request_headers).forEach((function(t){e.setRequestHeader(t,ct.request_headers[t])})),e.send()}(e)})),document.querySelector(st).addEventListener("keyup",(function(t){const e=t.target;e.classList.contains("autocomplete")&&function(t){if(!ut){ut=!0;const e=t.closest(".autocomplete-container");e.classList.add("loading"),setTimeout((function(){if(t.closest(".node").classList.contains("saving")){const o=document.querySelector(t.getAttribute("data-target"));if(!t.value)return e.classList.remove("loading"),ut=!1,void vt(o);var n=new XMLHttpRequest;yt("Loading autocomplete data..."),n.onreadystatechange=function(){if(e.classList.remove("loading"),ut=!1,4==this.readyState)if(200==this.status){const e=new RegExp("^"+t.value,"i");let n=!1,i=document.createDocumentFragment();const r=JSON.parse(this.responseText).data.map((t=>t.designation));for(let o=0;o<r.length;o++)if(e.test(r[o])){n=!0;const e=document.createElement("p");e.innerText=r[o],e.setAttribute("onclick","const autocomplete = document.querySelector('[data-target=\""+t.getAttribute("data-target")+"\"]'); const autocompleteContainer = document.querySelector(autocomplete.getAttribute('data-target'));    autocomplete.value = this.innerText; autocompleteContainer.innerHTML = '';  autocompleteContainer.style.display = 'none';"),i.appendChild(e)}if(1==n)return o.innerHTML="",o.style.display="block",void o.appendChild(i);vt(o)}else 500==this.status?At(rt,pt.messages.server.internalError):At(rt,pt.messages.server.notResponding)},n.open("GET",ct.path+"/workflowmakr/"+t.getAttribute("data-target-model")+"?q="+t.value,!0),n.setRequestHeader("accept","application/json"),ct.request_headers&&Object.keys(ct.request_headers).forEach((function(t){n.setRequestHeader(t,ct.request_headers[t])})),n.send()}}),300)}}(e)}))};
