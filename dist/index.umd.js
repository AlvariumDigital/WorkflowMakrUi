!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).workflowmakr={})}(this,(function(t){"use strict";var n=[],e=[];function o(t,o){if(t&&"undefined"!=typeof document){var i,a=!0===o.prepend?"prepend":"append",r=!0===o.singleTag,s="string"==typeof o.container?document.querySelector(o.container):document.getElementsByTagName("head")[0];if(r){var l=n.indexOf(s);-1===l&&(l=n.push(s)-1,e[l]={}),i=e[l]&&e[l][a]?e[l][a]:e[l][a]=d()}else i=d();65279===t.charCodeAt(0)&&(t=t.substring(1)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(document.createTextNode(t))}function d(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),o.attributes)for(var n=Object.keys(o.attributes),e=0;e<n.length;e++)t.setAttribute(n[e],o.attributes[n[e]]);var i="prepend"===a?"afterbegin":"beforeend";return s.insertAdjacentElement(i,t),t}}o("@import url(\"https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;800;900&display=swap\");\n#workflow-makr-chart-container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background-color: #efefef;\n  overflow: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start; }\n  #workflow-makr-chart-container a {\n    text-decoration: none; }\n\n* {\n  margin: 0;\n  padding: 0; }\n\nbody {\n  background: #22659c; }\n\n.workflow-makr-org {\n  display: flex;\n  justify-content: center;\n  font-family: 'Lato', sans-serif; }\n  .workflow-makr-org ul {\n    padding-top: 20px;\n    position: relative;\n    transition: all 0.5s; }\n    .workflow-makr-org ul ul::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 50%;\n      border-left: 1px solid #ccc;\n      width: 50%;\n      height: 20px; }\n  .workflow-makr-org li {\n    float: left;\n    text-align: center;\n    list-style-type: none;\n    position: relative;\n    padding: 20px 10px;\n    transition: all 0.5s; }\n    .workflow-makr-org li.end {\n      float: none;\n      margin: 0 auto; }\n    .workflow-makr-org li::before, .workflow-makr-org li::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 50%;\n      border-top: 1px solid #ccc;\n      width: 50%;\n      height: 19px; }\n    .workflow-makr-org li::after {\n      right: auto;\n      left: 50%;\n      border-left: 1px solid #ccc; }\n    .workflow-makr-org li:only-child::after, .workflow-makr-org li:only-child::before {\n      border-radius: 0 !important;\n      right: calc(50% - 1px); }\n    .workflow-makr-org li:first-child::before, .workflow-makr-org li:last-child::after {\n      border: 0 none; }\n    .workflow-makr-org li:last-child::before {\n      border-right: 1px solid #ccc;\n      border-radius: 0 6px 0 0; }\n    .workflow-makr-org li:first-child::after {\n      border-radius: 6px 0 0 0; }\n    .workflow-makr-org li .node {\n      text-decoration: none;\n      color: #666;\n      display: inline-block;\n      padding: 20px 10px;\n      transition: all 0.5s;\n      background: #fff;\n      width: 180px;\n      border-radius: 6px;\n      position: relative;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24); }\n      .workflow-makr-org li .node.start, .workflow-makr-org li .node.end {\n        width: 50px;\n        min-width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        padding: 0;\n        background: #cecece;\n        line-height: 50px;\n        font-size: 10px;\n        font-weight: 900;\n        letter-spacing: 1px;\n        color: #333;\n        position: relative; }\n      .workflow-makr-org li .node.end {\n        background: #22659c;\n        color: #fff; }\n      .workflow-makr-org li .node:not(.start):not(.end):hover {\n        background: #dfecf8;\n        color: #002A50;\n        transition: all 0.15s; }\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul li::after,\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul li::before,\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul::before,\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul ul::before {\n        border-width: 2px;\n        border-color: #94a0b4; }\n      .workflow-makr-org li .node:not(.start):not(.end):hover + ul li:only-child::before {\n        right: calc(50% - 2px); }\n      .workflow-makr-org li .node:not(.start):not(.end).to-delete,\n      .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) {\n        background: #f6cdd1; }\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li::after,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul ul::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li::after,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul ul::before {\n          border-width: 2px;\n          border-color: #dc3545; }\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li:only-child::before,\n        .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li:only-child::before {\n          right: calc(50% - 2px); }\n      .workflow-makr-org li .node:hover .add-btn,\n      .workflow-makr-org li .node:hover .delete-btn,\n      .workflow-makr-org li .node:hover .edit-btn {\n        opacity: .8; }\n        .workflow-makr-org li .node:hover .add-btn:hover,\n        .workflow-makr-org li .node:hover .delete-btn:hover,\n        .workflow-makr-org li .node:hover .edit-btn:hover {\n          opacity: 1; }\n      .workflow-makr-org li .node > div,\n      .workflow-makr-org li .node > a {\n        font-size: 12px; }\n      .workflow-makr-org li .node .status {\n        font-size: 18px;\n        float: none;\n        margin: 0 auto; }\n      .workflow-makr-org li .node .action {\n        font-weight: 700;\n        font-size: 13px;\n        color: #22659c;\n        text-transform: uppercase;\n        position: absolute;\n        top: -15px;\n        font-size: 10px;\n        right: calc(50% - 45px);\n        width: 100%;\n        text-align: center;\n        background: #efefef;\n        padding: 0;\n        z-index: 2; }\n      .workflow-makr-org li .node .add-btn,\n      .workflow-makr-org li .node .delete-btn,\n      .workflow-makr-org li .node .edit-btn {\n        cursor: pointer;\n        text-decoration: none;\n        position: absolute;\n        z-index: 2;\n        opacity: 0;\n        transition: opacity 0.2s ease-in-out; }\n      .workflow-makr-org li .node .add-btn {\n        bottom: -18px;\n        right: calc(50% - 8.5px); }\n      .workflow-makr-org li .node .delete-btn {\n        top: 3px;\n        right: 3px; }\n      .workflow-makr-org li .node .edit-btn {\n        top: 3px;\n        right: 25px;\n        border-radius: 50%;\n        background-color: transparent; }\n      .workflow-makr-org li .node.start .add-btn {\n        bottom: -18px; }\n      .workflow-makr-org li .node .status,\n      .workflow-makr-org li .node .action {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: 15ch; }\n      .workflow-makr-org li .node .delete-confirmation,\n      .workflow-makr-org li .node .save-form {\n        display: none; }\n      .workflow-makr-org li .node.saving {\n        background-color: #dfecf8; }\n        .workflow-makr-org li .node.saving .status,\n        .workflow-makr-org li .node.saving .action,\n        .workflow-makr-org li .node.saving .edit-btn,\n        .workflow-makr-org li .node.saving .add-btn,\n        .workflow-makr-org li .node.saving .delete-btn {\n          display: none; }\n        .workflow-makr-org li .node.saving .save-form {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: flex-start; }\n          .workflow-makr-org li .node.saving .save-form label {\n            font-size: 11px;\n            font-weight: 800;\n            margin-bottom: 5px; }\n          .workflow-makr-org li .node.saving .save-form input {\n            background-color: transparent;\n            outline: none;\n            box-shadow: none;\n            border: none;\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n            padding: 5px;\n            margin-bottom: 10px;\n            font-size: 13px;\n            font-weight: 300;\n            width: calc(100% - 10px); }\n          .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) {\n            width: 100%;\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            align-items: center; }\n            .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a {\n              padding: 5px 10px;\n              border-radius: 6px;\n              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n              background-color: #ffffff; }\n              .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a[data-update-transition], .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a[data-create-transition] {\n                background-color: #22659c;\n                margin-right: 5px;\n                color: #ffffff; }\n              .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a:hover {\n                cursor: pointer;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.42); }\n      .workflow-makr-org li .node.to-delete .status {\n        display: none; }\n      .workflow-makr-org li .node.to-delete .edit-btn,\n      .workflow-makr-org li .node.to-delete .add-btn,\n      .workflow-makr-org li .node.to-delete .delete-btn,\n      .workflow-makr-org li .node.to-delete + ul li .node:not(.end) .edit-btn,\n      .workflow-makr-org li .node.to-delete + ul li .node:not(.end) .add-btn,\n      .workflow-makr-org li .node.to-delete + ul li .node:not(.end) .delete-btn {\n        display: none; }\n      .workflow-makr-org li .node.to-delete .delete-confirmation {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        text-align: center; }\n        .workflow-makr-org li .node.to-delete .delete-confirmation > div {\n          display: flex;\n          flex-direction: row;\n          justify-content: space-between;\n          align-items: center; }\n        .workflow-makr-org li .node.to-delete .delete-confirmation p {\n          font-size: 12px;\n          font-weight: 600;\n          margin-bottom: 5px; }\n        .workflow-makr-org li .node.to-delete .delete-confirmation a {\n          padding: 5px 10px;\n          border-radius: 6px;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n          background-color: #ffffff; }\n          .workflow-makr-org li .node.to-delete .delete-confirmation a[data-delete-transition] {\n            background-color: #dc3545;\n            margin-right: 5px;\n            color: #ffffff; }\n          .workflow-makr-org li .node.to-delete .delete-confirmation a:hover {\n            cursor: pointer;\n            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.42); }\n  .workflow-makr-org > ul > li:before {\n    border: 0 none !important; }\n\n#loading-workflow-makr,\n#deleting-transition-loader,\n#saving-transition-loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  min-width: 1200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: #22659c;\n  transition: opacity 0.45s ease-in-out;\n  z-index: 999; }\n\n#deleting-transition-loader,\n#saving-transition-loader {\n  background-color: rgba(34, 101, 156, 0.3); }\n\n.loader {\n  height: 32px;\n  width: 32px;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto; }\n  .loader span {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    height: 32px;\n    width: 32px; }\n  .loader span::before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    height: 32px;\n    width: 32px;\n    border: 3px solid #FFF;\n    border-bottom: 3px solid transparent;\n    border-radius: 50%;\n    -webkit-animation: loader-1 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n    animation: loader-1 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite; }\n  .loader span::after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 6px;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n    width: 6px;\n    height: 6px;\n    background: transparent;\n    border-radius: 50%;\n    -webkit-animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n    animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite; }\n\n@-webkit-keyframes loader-1 {\n  0% {\n    -webkit-transform: rotate(0deg); }\n  40% {\n    -webkit-transform: rotate(180deg); }\n  60% {\n    -webkit-transform: rotate(180deg); }\n  100% {\n    -webkit-transform: rotate(360deg); } }\n\n@keyframes loader-1 {\n  0% {\n    transform: rotate(0deg); }\n  40% {\n    transform: rotate(180deg); }\n  60% {\n    transform: rotate(180deg); }\n  100% {\n    transform: rotate(360deg); } }\n\n@-webkit-keyframes loader-2 {\n  0% {\n    -webkit-transform: translate3d(0, -32px, 0) scale(0, 2);\n    opacity: 0; }\n  50% {\n    -webkit-transform: translate3d(0, 0, 0) scale(1.25, 1.25);\n    opacity: 1; }\n  100% {\n    -webkit-transform: translate3d(0, 8px, 0) scale(0, 0);\n    opacity: 0; } }\n\n@keyframes loader-2 {\n  0% {\n    transform: translate3d(0, -32px, 0) scale(0, 2);\n    opacity: 0; }\n  50% {\n    transform: translate3d(0, 0, 0) scale(1.25, 1.25);\n    opacity: 1; }\n  100% {\n    transform: translate3d(0, 8px, 0) scale(0, 0);\n    opacity: 0; } }\n\n@keyframes fadeInUp {\n  from {\n    transform: translate3d(0, -40px, 0); }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1; } }\n\n@-webkit-keyframes fadeInUp {\n  from {\n    transform: translate3d(0, -40px, 0); }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1; } }\n\n.toastify {\n  font-family: 'Lato', sans-serif; }\n  .toastify ul {\n    list-style: none;\n    padding: 0; }\n    .toastify ul li {\n      list-style: none; }\n\n.autocomplete-container {\n  position: relative; }\n  .autocomplete-container input {\n    height: 26px; }\n  .autocomplete-container .loader {\n    visibility: hidden;\n    opacity: 0;\n    width: 20px;\n    height: 20px;\n    top: 0;\n    right: 12px;\n    left: unset;\n    bottom: unset; }\n    .autocomplete-container .loader > span {\n      height: 20px;\n      width: 20px; }\n      .autocomplete-container .loader > span:before {\n        height: 20px;\n        width: 20px;\n        border: 3px solid #8bbde6;\n        border-bottom: 3px solid transparent; }\n      .autocomplete-container .loader > span:after {\n        width: 4px;\n        height: 4px;\n        background: transparent; }\n  .autocomplete-container.loading .loader {\n    visibility: visible;\n    opacity: 1; }\n\n.autocomplete,\n.autocomplete-result {\n  box-sizing: border-box; }\n\n.autocomplete-result {\n  display: none;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-top: 0;\n  position: absolute;\n  overflow: auto;\n  max-height: 93px;\n  background: #fff;\n  width: 100%;\n  top: 27px;\n  z-index: 3; }\n  .autocomplete-result p {\n    padding: 5px 10px;\n    margin: 0;\n    text-align: left;\n    color: #000; }\n    .autocomplete-result p:nth-child(2n+1) {\n      background: #f6f6f6; }\n    .autocomplete-result p:hover {\n      cursor: pointer;\n      background: #e5e5e5; }\n",{});o("/*!\n * Toastify js 1.9.3\n * https://github.com/apvarun/toastify-js\n * @license MIT licensed\n *\n * Copyright (C) 2018 Varun A P\n */\n\n.toastify {\n    padding: 12px 20px;\n    color: #ffffff;\n    display: inline-block;\n    box-shadow: 0 3px 6px -1px rgba(0, 0, 0, 0.12), 0 10px 36px -4px rgba(77, 96, 232, 0.3);\n    background: -webkit-linear-gradient(315deg, #73a5ff, #5477f5);\n    background: linear-gradient(135deg, #73a5ff, #5477f5);\n    position: fixed;\n    opacity: 0;\n    transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n    max-width: calc(50% - 20px);\n    z-index: 2147483647;\n}\n\n.toastify.on {\n    opacity: 1;\n}\n\n.toast-close {\n    opacity: 0.4;\n    padding: 0 5px;\n}\n\n.toastify-right {\n    right: 15px;\n}\n\n.toastify-left {\n    left: 15px;\n}\n\n.toastify-top {\n    top: -150px;\n}\n\n.toastify-bottom {\n    bottom: -150px;\n}\n\n.toastify-rounded {\n    border-radius: 25px;\n}\n\n.toastify-avatar {\n    width: 1.5em;\n    height: 1.5em;\n    margin: -7px 5px;\n    border-radius: 2px;\n}\n\n.toastify-center {\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    max-width: fit-content;\n    max-width: -moz-fit-content;\n}\n\n@media only screen and (max-width: 360px) {\n    .toastify-right, .toastify-left {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n        max-width: fit-content;\n    }\n}\n",{});const i='<div id="deleting-transition-loader"><div class="loader"><span></span></div></div>',a='<div id="saving-transition-loader"><div class="loader"><span></span></div></div>',r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVQ4jaWSO2hTYRzFz3dThz6GEiyIaIgSb4IUoUOpGEI6pU2Mdqxg3SwU8bFYx+CgiyBiFmnRQeGGZmhpBRMfZLBDljwoWAht77WpEEQlUVDz7j0OljxKykU84/nO9+N//t8H/KdER/fYmBl9pnHowg4AkLiBn5U3yMXyRkAJdt/M2NXA73BklRlthxlth+HIKsen7/6CwzsNQDrwcv/I5PJc+DV1XSdJJpNJJhIJkqSu65xbiLL/7ORiZ4jdNxN88ZKtCoVCVBSlzXv8fIV7k+yNDAA214B7ZOjh9Sm/UUXcuHIB7uGhR5BHDzcBh/q8U35XjxCdd9oqIQQu+129MPV4AaALAKCbTp22WZBOpxGPxxvhVCoFkigUCg3P6XTCcfI4oEtyEwCKWr2OowNmyLLcCOdyOQBo88xmM75//gGAogkQVNcy23APX4TVam2E8/k8SMLj8bTVWH6/Bkhis7mDWj3ybClWqlRrhjsoV6p4uviuiNputAnQ3n79sPHxTiCoGAICQQXrW9nbUKPf9p9JXWcmVm7dn2exVCZJappGVVVJksVSmTfvzdM0OLGElo+0/90kOPzX5BOWB5d857oHbRYAwLr6CQuReGkzm51FJvIEgH4Q4K+so0fQ3XseFDYAAHe3UK2+wnbsi2HHf9UfUvbrs4JlrH0AAAAASUVORK5CYII=";var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*!
     * Toastify js 1.9.3
     * https://github.com/apvarun/toastify-js
     * @license MIT licensed
     *
     * Copyright (C) 2018 Varun A P
     */
var l=function(t){var n={exports:{}};return t(n,n.exports),n.exports}((function(t){var n,e;n=s,e=function(t){var n=function(t){return new n.lib.init(t)};function e(t,n){return n.offset[t]?isNaN(n.offset[t])?n.offset[t]:n.offset[t]+"px":"0px"}function o(t,n){return!(!t||"string"!=typeof n||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(n)>-1))}return n.lib=n.prototype={toastify:"1.9.3",constructor:n,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||"Hi there!",this.options.node=t.node,this.options.duration=0===t.duration?0:t.duration||3e3,this.options.selector=t.selector,this.options.callback=t.callback||function(){},this.options.destination=t.destination,this.options.newWindow=t.newWindow||!1,this.options.close=t.close||!1,this.options.gravity="bottom"===t.gravity?"toastify-bottom":"toastify-top",this.options.positionLeft=t.positionLeft||!1,this.options.position=t.position||"",this.options.backgroundColor=t.backgroundColor,this.options.avatar=t.avatar||"",this.options.className=t.className||"",this.options.stopOnFocus=void 0===t.stopOnFocus||t.stopOnFocus,this.options.onClick=t.onClick,this.options.offset=t.offset||{x:0,y:0},this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");if(t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&(t.style.background=this.options.backgroundColor),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(t.innerHTML=this.options.text,""!==this.options.avatar){var n=document.createElement("img");n.src=this.options.avatar,n.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(n):t.insertAdjacentElement("afterbegin",n)}if(!0===this.options.close){var o=document.createElement("span");o.innerHTML="&#10006;",o.className="toast-close",o.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var i=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&i>360?t.insertAdjacentElement("afterbegin",o):t.appendChild(o)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(n){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var r=e("x",this.options),s=e("y",this.options),l="left"==this.options.position?r:"-"+r,d="toastify-top"==this.options.gravity?s:"-"+s;t.style.transform="translate("+l+","+d+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t=void 0===this.options.selector?document.body:document.getElementById(this.options.selector)))throw"Root element is not defined";return t.insertBefore(this.toastElement,t.firstChild),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),n.reposition()}.bind(this),400)}},n.reposition=function(){for(var t,n={top:15,bottom:15},e={top:15,bottom:15},i={top:15,bottom:15},a=document.getElementsByClassName("toastify"),r=0;r<a.length;r++){t=!0===o(a[r],"toastify-top")?"toastify-top":"toastify-bottom";var s=a[r].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(a[r].style[t]=i[t]+"px",i[t]+=s+15):!0===o(a[r],"toastify-left")?(a[r].style[t]=n[t]+"px",n[t]+=s+15):(a[r].style[t]=e[t]+"px",e[t]+=s+15)}return this},n.lib.init.prototype=n.lib,n},t.exports?t.exports=e():n.Toastify=e()}));const d="#198754",c="#dc3545",u="#ffc107";let p,f={},m={},g={},h=!1,w={transitions:{add:"Add transition",edit:"Edit transition",delete:"Delete transition",deleteConfirmation:{title:"Are you sure?",deleteBtn:"Yes!",cancelBtn:"No"},saveForm:{action:"Action",newStatus:"New status",saveBtn:"Save",cancelBtn:"Cancel"}},messages:{server:{notResponding:"Error! The server is not responding.",internalError:"Error! The server encountered an internal error."},scenario:{updated:"The scenario is updated successfully"},transitions:{notFound:"Error! Scenario not found.",delete:{alreadyUsed:"The transition or/and one or more of its children are already used"}}}};function b(){var t=new XMLHttpRequest;q("Loading scenario..."),t.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){f=JSON.parse(this.responseText);const t=document.querySelector("#workflow-makr-chart-container #loading-workflow-makr");t&&(t.style.opacity=0),setTimeout((()=>{q("Printing scenario..."),function(t){let n="";n+='<div id="workflow-makr-org-container">',n+='<div class="workflow-makr-org">',n+="<ul>",n+='<li data-transition="null">',n+='<div class="node start" data-transition="null">',n+='<img src="'+r+'" data-transition-id="null" class="add-btn" title="'+w.transitions.add+'"/>',n+="</div>",n+='<ul data-parent="null">',t.forEach((t=>n+=E(t))),n+="</ul>",n+="</li>",n+="</ul>",n+="</div>",n+="</div>",document.querySelector(p+" #workflow-makr-chart-container").innerHTML=n}(k(f.transitions)),v()}),500)}else 404==this.status?T(c,w.messages.transitions.notFound):500==this.status?T(c,w.messages.server.internalError):T(c,w.messages.server.notResponding)},t.open("GET",g.path+"/workflowmakr/scenarios/"+g.scenario_id,!0),t.setRequestHeader("accept","application/json"),g.request_headers&&Object.keys(g.request_headers).forEach((function(n){t.setRequestHeader(n,g.request_headers[n])})),t.send()}function k(t,n=0){n++;const e=[];return t.forEach((t=>{e.push({id:t.id,old_status:t.old_status,new_status:t.new_status,action:t.action,predecessor:t.predecessor_id,transitions:k(t.children,n)}),m["level-"+n]||(m["level-"+n]=[]),m["level-"+n].push(t.id)})),e}function v(){let t=0;m&&Object.keys(m).forEach((function(n){m[n].length>t&&(t=m[n].length)})),document.querySelector(p+" #workflow-makr-chart-container").style.minWidth=0==t?"100%":360*t+"px"}function x(){let t=document.querySelector("#workflow-makr-org-container li.to-create");t&&t.remove(),t=document.querySelector("#workflow-makr-org-container ul:empty"),t&&t.remove(),t=document.querySelector(".node.to-delete"),t&&t.classList.remove("to-delete"),t=document.querySelector(".node.saving"),t&&t.classList.remove("saving"),v()}function y(t,n){let e=null;return t.forEach((t=>{t.id==n?e=t:t.children&&t.children.length&&!e&&(e=y(t.children,n))})),e}function A(t){t.innerHTML="",t.style.display="none"}function E(t){let n="";return n+='<li data-transition="'+t.id+'">',n+='<div class="node" data-transition="'+t.id+'">',n+='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1ElEQVQ4jZWTTUiUURSGn/PNzx2SmEqNUhQKwS9y0KxAghZKKEPECLmthZUU0WJmEahbFxHkQIH9YJs2tRByoBoUaShXQUQlgeWYM5gQCrX1jjm3xdRM8zlf1Lu6HM5z73nvOUdwyo6EsDgPdIM0FIJmGZgmzzjzibk/06V4agorlIpjuFgWL5dBuIPWUdJJXbqgKazwB5JgOl1AhyRFbj1MOqktAJSK/zsMYDpRarRQgR0JYck7t7IDykfs7Cka91QzcneCL6vfS3byptXDbnsYpMMNHhro4+TxNiInjlHlF57Mvi36wJKcF+h2gydvDrLwOcOL1/MAZFe+OpyYHqvUqq1weinD4ZDN9qoAT1++If5wxpEpDZYTVn4fiVuDLC5laW+xef8pQ33tDq6NP2Zdb2yp1Po1JEVd7e/lWeoVh1qamVvIUlcTpC92g9yPfAWjZtkLTAP271BHazP762u4NzFD19EDnI66wYDIlIdqewWR4vTtrd1JcJuftdU1rlx/wIYbDAYjFwq9P9g7huGSW2bl1xnjw+TlwidqHQVJ/Qf+HK1jAB4AvqU3Ce57hNe7CzjC35fpNuI7w8dEjoqJdiSER85hTE/ZOotMsWnuO9f5J1WVkw2yAfLvAAAAAElFTkSuQmCC" data-transition-id="'+t.id+'" class="edit-btn" title="'+w.transitions.edit+'" />',n+='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACD0lEQVQ4T42TTWsTURSG3zMTJ8Quou0PEKlx60fozSQVqaEU8zdctIIbwUX6QaHQTT9BEPsF/o5qqTK17QyTKoorbaL4B9rUhVTSmTlybzJxJo3i3d1z7/vcc95zLqFjOaZ5W/f9MSYqBsAVeaz5/nfo+htiXhMHBx+jEgo377LZi76uPwPwoBMaEzBveInE44LjnMq4ArTErwDc+Zc4PGPgbaDr9yVEAVwhXoQv942M4NiywI1GjKUlk7hcLOJoczOMr+cqlYcka9aC4L2MSnH/7CxObBvVcrkN0QwDmeVlpIVAbWoKx9vbCkLMt6gyMLDORKMqYBi4Pj+PdKGAH7aNw3JZ1ZhZWkI6l0N9Zwe1yUmw54VZrJIrRBXAtTASgzgOQIS0aaK+u4va+HhUDAa+kCNEQwMuxJyWmSwsIJ3Pq/DJ3h6qUnx2FvMlABpdAarmxUX1sgLs7zcBHcYqgJvNHkLXMyFaiVs1S6FclwYHu0KY6LP0YA3AmJq4ZLIpFqJZ88SE8iAzN9cVQszPZRduMtEH1cZSCf0zM+fclsaGkK/T0zja2lKZMdENNUjRVvYOD6MuB+lPq5o9Nwz0Dg1FxSum6z5SADufT2m+/5KAu/8zysRs/ezpKd2zrF/tzyQhCc97Gg7V30BMtHKaSj2R4vZnil5ueTLKQJGBq+oS0TctCF4HmrZhuu6n6P3fcCns3XprXkoAAAAASUVORK5CYII=" data-transition-id="'+t.id+'" class="delete-btn" title="'+w.transitions.delete+'" />',n+='<div class="action" '+(t.action.designation.length>15?'title = "'+t.action.designation+'"':"")+">"+t.action.designation+"</div>",n+='<div class="status" '+(t.new_status.designation.length>15?'title = "'+t.new_status.designation+'"':"")+">"+t.new_status.designation+"</div>",n+='<img src="'+r+'" data-transition-id="'+t.id+'" class="add-btn" title="'+w.transitions.add+'" />',n+='<div class="delete-confirmation">            <p>'+w.transitions.deleteConfirmation.title+'</p>            <div>                <a data-delete-transition="'+t.id+'">'+w.transitions.deleteConfirmation.deleteBtn+'</a>                <a data-cancel-delete-transition="'+t.id+'">'+w.transitions.deleteConfirmation.cancelBtn+"</a>            </div>        </div>",n+='<form class="save-form">            <label for="transition-action-'+t.id+'">'+w.transitions.saveForm.action+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="actions" data-target="#transition-action-autocomplete-'+t.id+'" id="transition-action-'+t.id+'" value="'+t.action.designation+'" />                <div class="autocomplete-result" id="transition-action-autocomplete-'+t.id+'"></div>            </div>            <label for="transition-new-status-'+t.id+'">'+w.transitions.saveForm.newStatus+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="statuses" data-target="#transition-new-status-autocomplete-'+t.id+'" id="transition-new-status-'+t.id+'" value="'+t.new_status.designation+'" />                <div class="autocomplete-result" id="transition-new-status-autocomplete-'+t.id+'"></div>            </div>            <div>                <a data-update-transition="'+t.id+'">'+w.transitions.saveForm.saveBtn+'</a>                <a data-cancel-update-transition="'+t.id+'">'+w.transitions.saveForm.cancelBtn+"</a>            </div>        </form>",n+="</div>",t.transitions&&t.transitions.length&&(n+='<ul data-parent="'+t.id+'">',t.transitions.forEach((t=>{n+=E(t)})),n+="</ul>"),n+="</li>",n}function q(t){g&&g.debug&&console.log(t)}function T(t,n){const e={text:n,duration:g.toast_time_out,close:!0,gravity:"top",position:"right",backgroundColor:t,stopOnFocus:!0};l(e).showToast()}t.init=function(t){g=t,function(t){t.i18n&&(w=t.i18n);t.toast_time_out?g.toast_time_out=t.toast_time_out:g.toast_time_out=9e3}(t),p=t.selector,document.querySelector(p).innerHTML='<div id="workflow-makr-chart-container"></div>',document.querySelector(p+" #workflow-makr-chart-container").innerHTML='<div id="loading-workflow-makr"><div class="loader"><span></span></div></div>',q("Initializing the workflow makr ui..."),b(),document.querySelector(p).addEventListener("click",(function(t){const n=t.target;var e;n.classList.contains("add-btn")&&function(t){x();const n=t.getAttribute("data-transition-id"),e=n?y(f.transitions,t.getAttribute("data-transition-id")):null,o=document.querySelector('li[data-transition="'+n+'"]');let i=document.querySelector('ul[data-parent="'+n+'"]');i||(o.insertAdjacentHTML("beforeend",'<ul data-parent="'+n+'"></ul>'),i=document.querySelector('ul[data-parent="'+n+'"]'));let a="";a+='<li class="to-create">',a+='<div class="node saving">',a+='<form class="save-form">            <label for="transition-action-to-create">'+w.transitions.saveForm.action+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="actions" data-target="#transition-action-autocomplete-to-create" id="transition-action-to-create" value="" />                <div class="autocomplete-result" id="transition-action-autocomplete-to-create"></div>            </div>            <label for="transition-new-status-to-create">'+w.transitions.saveForm.newStatus+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="statuses" data-target="#transition-new-status-autocomplete-to-create" id="transition-new-status-to-create" value="" />                <div class="autocomplete-result" id="transition-new-status-autocomplete-to-create"></div>            </div>            <div>                <a data-create-transition="'+(e?e.id:null)+'">'+w.transitions.saveForm.saveBtn+'</a>                <a data-cancel-create-transition="true">'+w.transitions.saveForm.cancelBtn+"</a>            </div>        </form>",a+="</div>",a+="</li>",i.insertAdjacentHTML("afterbegin",a),v()}(n),n.getAttribute("data-create-transition")&&function(t){document.querySelector(p+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",a);var n=new XMLHttpRequest;q("Creating transition..."),n.onreadystatechange=function(){if(4==this.readyState&&(200==this.status&&(b(),T(d,w.messages.scenario.updated)),404==this.status&&(console.error("Failed creating transition..."),console.error("Error",this.status,this.statusText)),422==this.status)){console.error("Failed creating transition..."),console.error("Error",this.status,this.statusText);const t=JSON.parse(this.responseText).messages;let n="<p>";t.new_status&&t.new_status.forEach((t=>n+=t+"<br />")),t.action&&t.action.forEach((t=>n+=t+"<br />")),t.old_status&&t.old_status.forEach((t=>n+=t+"<br />")),t.predecessor_id&&t.predecessor_id.forEach((t=>n+=t+"<br />")),t.scenario_id&&t.scenario_id.forEach((t=>n+=t+"<br />")),n+="</p>",T(u,n),document.querySelector("#saving-transition-loader").remove()}},n.open("POST",g.path+"/workflowmakr/transitions",!0),n.setRequestHeader("accept","application/json"),g.request_headers&&Object.keys(g.request_headers).forEach((function(t){n.setRequestHeader(t,g.request_headers[t])}));const e="li.to-create .node.saving .save-form input#transition-action-to-create",o="li.to-create .node.saving .save-form input#transition-new-status-to-create",i=t.getAttribute("data-create-transition"),r=i?y(f.transitions,i):null;n.send(JSON.stringify({action:document.querySelector(e).value,old_status:r?r.new_status.designation:null,new_status:document.querySelector(o).value,predecessor_id:r?r.id:null,scenario_id:f.id}))}(n),n.getAttribute("data-cancel-create-transition")&&x(),n.classList.contains("edit-btn")&&function(t){const n=+t.getAttribute("data-transition-id");x(),document.querySelector('.node[data-transition="'+n+'"]').classList.add("saving")}(n),n.getAttribute("data-cancel-update-transition")&&(e=n,document.querySelector('.node[data-transition="'+e.getAttribute("data-cancel-update-transition")+'"]').classList.remove("saving"),document.querySelector('.node[data-transition="'+e.getAttribute("data-cancel-update-transition")+'"] form.save-form').reset(),document.querySelector('.node[data-transition="'+e.getAttribute("data-cancel-update-transition")+'"] .autocomplete-container').classList.remove("loading")),n.getAttribute("data-update-transition")&&function(t){document.querySelector(p+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",a);var n=new XMLHttpRequest;q("Updating transition..."),n.onreadystatechange=function(){if(4==this.readyState&&(200==this.status&&(b(),T(d,w.messages.scenario.updated)),404==this.status&&(console.error("Failed updating transition..."),console.error("Error",this.status,this.statusText)),422==this.status)){console.error("Failed updating transition..."),console.error("Error",this.status,this.statusText);const t=JSON.parse(this.responseText).messages;let n="<p>";t.new_status&&t.new_status.forEach((t=>n+=t+"<br />")),t.action&&t.action.forEach((t=>n+=t+"<br />")),t.old_status&&t.old_status.forEach((t=>n+=t+"<br />")),t.predecessor_id&&t.predecessor_id.forEach((t=>n+=t+"<br />")),n+="</p>",T(u,n),document.querySelector("#saving-transition-loader").remove()}},n.open("PUT",g.path+"/workflowmakr/transitions/"+t.getAttribute("data-update-transition"),!0),n.setRequestHeader("accept","application/json"),g.request_headers&&Object.keys(g.request_headers).forEach((function(t){n.setRequestHeader(t,g.request_headers[t])}));const e='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-action-'+t.getAttribute("data-update-transition"),o='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-new-status-'+t.getAttribute("data-update-transition"),i=y(f.transitions,+t.getAttribute("data-update-transition"));n.send(JSON.stringify({action:document.querySelector(e).value,old_status:i.old_status?i.old_status.designation:null,new_status:document.querySelector(o).value,predecessor_id:i.predecessor_id}))}(n),n.classList.contains("delete-btn")&&function(t){const n=+t.getAttribute("data-transition-id");x(),document.querySelector('.node[data-transition="'+n+'"]').classList.add("to-delete")}(n),n.getAttribute("data-cancel-delete-transition")&&function(t){document.querySelector('.node[data-transition="'+t.getAttribute("data-cancel-delete-transition")+'"]').classList.remove("to-delete")}(n),n.getAttribute("data-delete-transition")&&function(t){document.querySelector(p+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",i);var n=new XMLHttpRequest;q("Deleting transition..."),n.onreadystatechange=function(){4==this.readyState&&(200==this.status&&(b(),T(d,w.messages.scenario.updated)),404==this.status&&(console.error("Failed deleting transition..."),console.error("Error",this.status,this.statusText)),422==this.status&&(console.error("Failed deleting transition..."),console.error("Error",this.status,this.statusText),T(u,w.messages.transitions.delete.alreadyUsed),document.querySelector("#deleting-transition-loader").remove()))},n.open("DELETE",g.path+"/workflowmakr/transitions/"+t.getAttribute("data-delete-transition"),!0),n.setRequestHeader("accept","application/json"),g.request_headers&&Object.keys(g.request_headers).forEach((function(t){n.setRequestHeader(t,g.request_headers[t])})),n.send()}(n)})),document.querySelector(p).addEventListener("keyup",(function(t){const n=t.target;n.classList.contains("autocomplete")&&function(t){if(!h){h=!0;const n=t.closest(".autocomplete-container");n.classList.add("loading"),setTimeout((function(){if(t.closest(".node").classList.contains("saving")){const o=document.querySelector(t.getAttribute("data-target"));if(!t.value)return n.classList.remove("loading"),h=!1,void A(o);var e=new XMLHttpRequest;q("Loading autocomplete data..."),e.onreadystatechange=function(){if(n.classList.remove("loading"),h=!1,4==this.readyState)if(200==this.status){const n=new RegExp("^"+t.value,"i");let e=!1,i=document.createDocumentFragment();const a=JSON.parse(this.responseText).data.map((t=>t.designation));for(let o=0;o<a.length;o++)if(n.test(a[o])){e=!0;const n=document.createElement("p");n.innerText=a[o],n.setAttribute("onclick","const autocomplete = document.querySelector('[data-target=\""+t.getAttribute("data-target")+"\"]'); const autocompleteContainer = document.querySelector(autocomplete.getAttribute('data-target'));    autocomplete.value = this.innerText; autocompleteContainer.innerHTML = '';  autocompleteContainer.style.display = 'none';"),i.appendChild(n)}if(1==e)return o.innerHTML="",o.style.display="block",void o.appendChild(i);A(o)}else 500==this.status?T(c,w.messages.server.internalError):T(c,w.messages.server.notResponding)},e.open("GET",g.path+"/workflowmakr/"+t.getAttribute("data-target-model")+"?q="+t.value,!0),e.setRequestHeader("accept","application/json"),g.request_headers&&Object.keys(g.request_headers).forEach((function(t){e.setRequestHeader(t,g.request_headers[t])})),e.send()}}),300)}}(n)}))},Object.defineProperty(t,"__esModule",{value:!0})}));
