!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).workflowmakr={})}(this,(function(t){"use strict";var n=[],e=[];function o(t,o){if(t&&"undefined"!=typeof document){var i,r=!0===o.prepend?"prepend":"append",a=!0===o.singleTag,s="string"==typeof o.container?document.querySelector(o.container):document.getElementsByTagName("head")[0];if(a){var l=n.indexOf(s);-1===l&&(l=n.push(s)-1,e[l]={}),i=e[l]&&e[l][r]?e[l][r]:e[l][r]=d()}else i=d();65279===t.charCodeAt(0)&&(t=t.substring(1)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(document.createTextNode(t))}function d(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),o.attributes)for(var n=Object.keys(o.attributes),e=0;e<n.length;e++)t.setAttribute(n[e],o.attributes[n[e]]);var i="prepend"===r?"afterbegin":"beforeend";return s.insertAdjacentElement(i,t),t}}o('@import url("https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;800;900&display=swap");\n.color-picker,\n.color-picker::before,\n.color-picker::after,\n.color-picker *,\n.color-picker *::before,\n.color-picker *::after {\n  box-sizing: border-box;\n}\n\n.color-picker {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  box-shadow: 1px 3px 6px rgba(0, 0, 0, 0.5);\n}\n\n.color-picker > div {\n  display: flex;\n  height: 10em;\n  border: 1px solid #000;\n  color: #000;\n}\n\n.color-picker > div * {\n  border-color: inherit;\n  color: inherit;\n}\n\n.color-picker i {\n  font: inherit;\n  font-size: 12px;\n  /* Measure the color picker control size by measuring the text size */\n}\n\n.color-picker\\:a,\n.color-picker\\:h,\n.color-picker\\:sv {\n  background-size: 100% 100%;\n  position: relative;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n}\n\n.color-picker\\:a div,\n.color-picker\\:h div,\n.color-picker\\:sv div {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.color-picker\\:a,\n.color-picker\\:h {\n  width: 1.5em;\n  border-left: 1px solid;\n  cursor: ns-resize;\n  overflow: hidden;\n}\n\n.color-picker\\:a i,\n.color-picker\\:h i {\n  display: block;\n  height: 0.5em;\n  position: absolute;\n  top: -0.25em;\n  right: 0;\n  left: 0;\n  z-index: 2;\n}\n\n.color-picker\\:a i::before,\n.color-picker\\:h i::before {\n  display: block;\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.25em solid;\n  border-top-color: transparent;\n  border-bottom-color: transparent;\n}\n\n.color-picker\\:a div {\n  z-index: 2;\n}\n\n.color-picker\\:a div + div {\n  background-image: linear-gradient(45deg, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%, #ddd 100%), linear-gradient(45deg, #ddd 25%, #fff 25%, #fff 75%, #ddd 75%, #ddd 100%);\n  background-size: 0.5em 0.5em;\n  background-position: 0 0, 0.25em 0.25em;\n  z-index: 1;\n}\n\n.color-picker\\:h div {\n  background-image: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n\n.color-picker\\:sv {\n  width: 10em;\n  cursor: crosshair;\n  overflow: hidden;\n}\n\n.color-picker\\:sv div + div {\n  background-image: linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n}\n\n.color-picker\\:sv div + div + div {\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0));\n}\n\n.color-picker\\:sv i {\n  display: block;\n  width: 0.75em;\n  height: 0.75em;\n  position: absolute;\n  top: -0.375em;\n  right: -0.375em;\n  z-index: 2;\n}\n\n.color-picker\\:sv i::before {\n  display: block;\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 1px solid #fff;\n  border-radius: 100%;\n  box-shadow: 0 0 2px #000;\n}\n\n#workflow-makr-chart-container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background-color: #efefef;\n  overflow: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n}\n#workflow-makr-chart-container a {\n  text-decoration: none;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background: #22659c;\n}\n\n.workflow-makr-org {\n  display: flex;\n  justify-content: center;\n  font-family: "Lato", sans-serif;\n}\n.workflow-makr-org ul {\n  padding-top: 20px;\n  position: relative;\n  transition: all 0.5s;\n}\n.workflow-makr-org ul ul::before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 50%;\n  border-left: 1px solid #ccc;\n  width: 50%;\n  height: 20px;\n}\n.workflow-makr-org li {\n  float: left;\n  text-align: center;\n  list-style-type: none;\n  position: relative;\n  padding: 20px 10px;\n  transition: all 0.5s;\n}\n.workflow-makr-org li.end {\n  float: none;\n  margin: 0 auto;\n}\n.workflow-makr-org li::before, .workflow-makr-org li::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 50%;\n  border-top: 1px solid #ccc;\n  width: 50%;\n  height: 19px;\n}\n.workflow-makr-org li::after {\n  right: auto;\n  left: 50%;\n  border-left: 1px solid #ccc;\n}\n.workflow-makr-org li:only-child::after, .workflow-makr-org li:only-child::before {\n  border-radius: 0 !important;\n  right: calc(50% - 1px);\n}\n.workflow-makr-org li:first-child::before, .workflow-makr-org li:last-child::after {\n  border: 0 none;\n}\n.workflow-makr-org li:last-child::before {\n  border-right: 1px solid #ccc;\n  border-radius: 0 6px 0 0;\n}\n.workflow-makr-org li:first-child::after {\n  border-radius: 6px 0 0 0;\n}\n.workflow-makr-org li .node {\n  text-decoration: none;\n  color: #666;\n  display: inline-block;\n  padding: 20px 10px;\n  transition: all 0.5s;\n  background: #fff;\n  width: 180px;\n  border-radius: 6px;\n  position: relative;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n}\n.workflow-makr-org li .node.start, .workflow-makr-org li .node.end {\n  width: 50px;\n  min-width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  padding: 0;\n  background: #cecece;\n  line-height: 50px;\n  font-size: 10px;\n  font-weight: 900;\n  letter-spacing: 1px;\n  color: #333;\n  position: relative;\n}\n.workflow-makr-org li .node.end {\n  background: #22659c;\n  color: #fff;\n}\n.workflow-makr-org li .node:not(.start):not(.end):hover {\n  background: #dfecf8;\n  color: #002A50;\n  transition: all 0.15s;\n}\n.workflow-makr-org li .node:not(.start):not(.end):hover + ul li::after,\n.workflow-makr-org li .node:not(.start):not(.end):hover + ul li::before,\n.workflow-makr-org li .node:not(.start):not(.end):hover + ul::before,\n.workflow-makr-org li .node:not(.start):not(.end):hover + ul ul::before {\n  border-width: 2px;\n  border-color: #94a0b4;\n}\n.workflow-makr-org li .node:not(.start):not(.end):hover + ul li:only-child::before {\n  right: calc(50% - 2px);\n}\n.workflow-makr-org li .node:not(.start):not(.end).to-delete, .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) {\n  background: #f6cdd1;\n}\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li::after,\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li::before,\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul::before,\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul ul::before, .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li::after,\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li::before,\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul::before,\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul ul::before {\n  border-width: 2px;\n  border-color: #dc3545;\n}\n.workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li:only-child::before, .workflow-makr-org li .node:not(.start):not(.end).to-delete + ul li .node:not(.end) + ul li:only-child::before {\n  right: calc(50% - 2px);\n}\n.workflow-makr-org li .node:hover .add-btn,\n.workflow-makr-org li .node:hover .delete-btn,\n.workflow-makr-org li .node:hover .edit-btn {\n  opacity: 0.8;\n}\n.workflow-makr-org li .node:hover .add-btn:hover,\n.workflow-makr-org li .node:hover .delete-btn:hover,\n.workflow-makr-org li .node:hover .edit-btn:hover {\n  opacity: 1;\n}\n.workflow-makr-org li .node > div,\n.workflow-makr-org li .node > a {\n  font-size: 12px;\n}\n.workflow-makr-org li .node .status {\n  font-size: 18px;\n  float: none;\n  margin: 0 auto;\n}\n.workflow-makr-org li .node .action {\n  font-weight: 700;\n  font-size: 13px;\n  color: #22659c;\n  text-transform: uppercase;\n  position: absolute;\n  top: -15px;\n  font-size: 10px;\n  right: calc(50% - 45px);\n  width: 100%;\n  text-align: center;\n  background: #efefef;\n  padding: 0;\n  z-index: 2;\n}\n.workflow-makr-org li .node .add-btn,\n.workflow-makr-org li .node .delete-btn,\n.workflow-makr-org li .node .edit-btn {\n  cursor: pointer;\n  text-decoration: none;\n  position: absolute;\n  z-index: 2;\n  opacity: 0;\n  transition: opacity 0.2s ease-in-out;\n}\n.workflow-makr-org li .node .add-btn {\n  bottom: -18px;\n  right: calc(50% - 8.5px);\n}\n.workflow-makr-org li .node .delete-btn {\n  top: 3px;\n  right: 3px;\n}\n.workflow-makr-org li .node .edit-btn {\n  top: 3px;\n  right: 25px;\n  border-radius: 50%;\n  background-color: transparent;\n}\n.workflow-makr-org li .node.start .add-btn {\n  bottom: -18px;\n}\n.workflow-makr-org li .node .status,\n.workflow-makr-org li .node .action {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 15ch;\n}\n.workflow-makr-org li .node .delete-confirmation,\n.workflow-makr-org li .node .save-form {\n  display: none;\n}\n.workflow-makr-org li .node.saving {\n  background-color: #dfecf8;\n}\n.workflow-makr-org li .node.saving .status,\n.workflow-makr-org li .node.saving .action,\n.workflow-makr-org li .node.saving .edit-btn,\n.workflow-makr-org li .node.saving .add-btn,\n.workflow-makr-org li .node.saving .delete-btn {\n  display: none;\n}\n.workflow-makr-org li .node.saving .save-form {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n}\n.workflow-makr-org li .node.saving .save-form label {\n  font-size: 11px;\n  font-weight: 800;\n  margin-bottom: 5px;\n}\n.workflow-makr-org li .node.saving .save-form input {\n  background-color: transparent;\n  outline: none;\n  box-shadow: none;\n  border: none;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 5px;\n  margin-bottom: 10px;\n  font-size: 13px;\n  font-weight: 300;\n  width: calc(100% - 10px);\n}\n.workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a {\n  padding: 5px 10px;\n  border-radius: 6px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  background-color: #ffffff;\n}\n.workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a[data-update-transition], .workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a[data-create-transition] {\n  background-color: #22659c;\n  margin-right: 5px;\n  color: #ffffff;\n}\n.workflow-makr-org li .node.saving .save-form > div:not(.autocomplete-result) a:hover {\n  cursor: pointer;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.42);\n}\n.workflow-makr-org li .node.to-delete .status {\n  display: none;\n}\n.workflow-makr-org li .node.to-delete .edit-btn,\n.workflow-makr-org li .node.to-delete .add-btn,\n.workflow-makr-org li .node.to-delete .delete-btn, .workflow-makr-org li .node.to-delete + ul li .node:not(.end) .edit-btn,\n.workflow-makr-org li .node.to-delete + ul li .node:not(.end) .add-btn,\n.workflow-makr-org li .node.to-delete + ul li .node:not(.end) .delete-btn {\n  display: none;\n}\n.workflow-makr-org li .node.to-delete .delete-confirmation {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.workflow-makr-org li .node.to-delete .delete-confirmation > div {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.workflow-makr-org li .node.to-delete .delete-confirmation p {\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 5px;\n}\n.workflow-makr-org li .node.to-delete .delete-confirmation a {\n  padding: 5px 10px;\n  border-radius: 6px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  background-color: #ffffff;\n}\n.workflow-makr-org li .node.to-delete .delete-confirmation a[data-delete-transition] {\n  background-color: #dc3545;\n  margin-right: 5px;\n  color: #ffffff;\n}\n.workflow-makr-org li .node.to-delete .delete-confirmation a:hover {\n  cursor: pointer;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.42);\n}\n.workflow-makr-org > ul > li:before {\n  border: 0 none !important;\n}\n\n#loading-workflow-makr,\n#deleting-transition-loader,\n#saving-transition-loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  min-width: 1200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background-color: #22659c;\n  transition: opacity 0.45s ease-in-out;\n  z-index: 999;\n}\n\n#deleting-transition-loader,\n#saving-transition-loader {\n  background-color: rgba(34, 101, 156, 0.3);\n}\n\n.loader {\n  height: 32px;\n  width: 32px;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n}\n.loader span {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n  height: 32px;\n  width: 32px;\n}\n.loader span::before {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n  height: 32px;\n  width: 32px;\n  border: 3px solid #FFF;\n  border-bottom: 3px solid transparent;\n  border-radius: 50%;\n  -webkit-animation: loader-1 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n  animation: loader-1 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n}\n.loader span::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 6px;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n  width: 6px;\n  height: 6px;\n  background: transparent;\n  border-radius: 50%;\n  -webkit-animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n  animation: loader-2 1.5s cubic-bezier(0.77, 0, 0.175, 1) infinite;\n}\n\n@-webkit-keyframes loader-1 {\n  0% {\n    -webkit-transform: rotate(0deg);\n  }\n  40% {\n    -webkit-transform: rotate(180deg);\n  }\n  60% {\n    -webkit-transform: rotate(180deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@keyframes loader-1 {\n  0% {\n    transform: rotate(0deg);\n  }\n  40% {\n    transform: rotate(180deg);\n  }\n  60% {\n    transform: rotate(180deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loader-2 {\n  0% {\n    -webkit-transform: translate3d(0, -32px, 0) scale(0, 2);\n    opacity: 0;\n  }\n  50% {\n    -webkit-transform: translate3d(0, 0, 0) scale(1.25, 1.25);\n    opacity: 1;\n  }\n  100% {\n    -webkit-transform: translate3d(0, 8px, 0) scale(0, 0);\n    opacity: 0;\n  }\n}\n@keyframes loader-2 {\n  0% {\n    transform: translate3d(0, -32px, 0) scale(0, 2);\n    opacity: 0;\n  }\n  50% {\n    transform: translate3d(0, 0, 0) scale(1.25, 1.25);\n    opacity: 1;\n  }\n  100% {\n    transform: translate3d(0, 8px, 0) scale(0, 0);\n    opacity: 0;\n  }\n}\n@keyframes fadeInUp {\n  from {\n    transform: translate3d(0, -40px, 0);\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadeInUp {\n  from {\n    transform: translate3d(0, -40px, 0);\n  }\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n.toastify {\n  font-family: "Lato", sans-serif;\n}\n.toastify ul {\n  list-style: none;\n  padding: 0;\n}\n.toastify ul li {\n  list-style: none;\n}\n\n.color-picker-container {\n  display: flex !important;\n  flex-direction: column !important;\n  justify-content: flex-start !important;\n  align-items: flex-start !important;\n}\n.color-picker-container label {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 4px;\n}\n.color-picker-container label .color-chosen {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  border: 1px solid #000000;\n  background-color: #e5e5e5;\n}\n\n.color-pickers {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  border: 1px solid #000;\n  border-top-width: 0;\n  overflow: hidden;\n  width: 100%;\n  height: 1.25em;\n}\n.color-pickers span {\n  width: 10%;\n  height: 1.25em;\n  cursor: pointer;\n}\n\n.autocomplete-container {\n  position: relative;\n}\n.autocomplete-container input {\n  height: 26px;\n}\n.autocomplete-container .loader {\n  visibility: hidden;\n  opacity: 0;\n  width: 20px;\n  height: 20px;\n  top: 0;\n  right: 12px;\n  left: unset;\n  bottom: unset;\n}\n.autocomplete-container .loader > span {\n  height: 20px;\n  width: 20px;\n}\n.autocomplete-container .loader > span:before {\n  height: 20px;\n  width: 20px;\n  border: 3px solid #8bbde6;\n  border-bottom: 3px solid transparent;\n}\n.autocomplete-container .loader > span:after {\n  width: 4px;\n  height: 4px;\n  background: transparent;\n}\n.autocomplete-container.loading .loader {\n  visibility: visible;\n  opacity: 1;\n}\n\n.autocomplete,\n.autocomplete-result {\n  box-sizing: border-box;\n}\n\n.autocomplete-result {\n  display: none;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-top: 0;\n  position: absolute;\n  overflow: auto;\n  max-height: 93px;\n  background: #fff;\n  width: 100%;\n  top: 27px;\n  z-index: 3;\n}\n.autocomplete-result p {\n  padding: 5px 10px;\n  margin: 0;\n  text-align: left;\n  color: #000;\n}\n.autocomplete-result p:nth-child(2n+1) {\n  background: #f6f6f6;\n}\n.autocomplete-result p:hover {\n  cursor: pointer;\n  background: #e5e5e5;\n}',{});o("/*!\n * Toastify js 1.11.2\n * https://github.com/apvarun/toastify-js\n * @license MIT licensed\n *\n * Copyright (C) 2018 Varun A P\n */\n\n.toastify {\n    padding: 12px 20px;\n    color: #ffffff;\n    display: inline-block;\n    box-shadow: 0 3px 6px -1px rgba(0, 0, 0, 0.12), 0 10px 36px -4px rgba(77, 96, 232, 0.3);\n    background: -webkit-linear-gradient(315deg, #73a5ff, #5477f5);\n    background: linear-gradient(135deg, #73a5ff, #5477f5);\n    position: fixed;\n    opacity: 0;\n    transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n    max-width: calc(50% - 20px);\n    z-index: 2147483647;\n}\n\n.toastify.on {\n    opacity: 1;\n}\n\n.toast-close {\n    opacity: 0.4;\n    padding: 0 5px;\n}\n\n.toastify-right {\n    right: 15px;\n}\n\n.toastify-left {\n    left: 15px;\n}\n\n.toastify-top {\n    top: -150px;\n}\n\n.toastify-bottom {\n    bottom: -150px;\n}\n\n.toastify-rounded {\n    border-radius: 25px;\n}\n\n.toastify-avatar {\n    width: 1.5em;\n    height: 1.5em;\n    margin: -7px 5px;\n    border-radius: 2px;\n}\n\n.toastify-center {\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    max-width: fit-content;\n    max-width: -moz-fit-content;\n}\n\n@media only screen and (max-width: 360px) {\n    .toastify-right, .toastify-left {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n        max-width: fit-content;\n    }\n}\n",{});const i='<div id="deleting-transition-loader"><div class="loader"><span></span></div></div>',r='<div id="saving-transition-loader"><div class="loader"><span></span></div></div>',a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVQ4jaWSO2hTYRzFz3dThz6GEiyIaIgSb4IUoUOpGEI6pU2Mdqxg3SwU8bFYx+CgiyBiFmnRQeGGZmhpBRMfZLBDljwoWAht77WpEEQlUVDz7j0OljxKykU84/nO9+N//t8H/KdER/fYmBl9pnHowg4AkLiBn5U3yMXyRkAJdt/M2NXA73BklRlthxlth+HIKsen7/6CwzsNQDrwcv/I5PJc+DV1XSdJJpNJJhIJkqSu65xbiLL/7ORiZ4jdNxN88ZKtCoVCVBSlzXv8fIV7k+yNDAA214B7ZOjh9Sm/UUXcuHIB7uGhR5BHDzcBh/q8U35XjxCdd9oqIQQu+129MPV4AaALAKCbTp22WZBOpxGPxxvhVCoFkigUCg3P6XTCcfI4oEtyEwCKWr2OowNmyLLcCOdyOQBo88xmM75//gGAogkQVNcy23APX4TVam2E8/k8SMLj8bTVWH6/Bkhis7mDWj3ybClWqlRrhjsoV6p4uviuiNputAnQ3n79sPHxTiCoGAICQQXrW9nbUKPf9p9JXWcmVm7dn2exVCZJappGVVVJksVSmTfvzdM0OLGElo+0/90kOPzX5BOWB5d857oHbRYAwLr6CQuReGkzm51FJvIEgH4Q4K+so0fQ3XseFDYAAHe3UK2+wnbsi2HHf9UfUvbrs4JlrH0AAAAASUVORK5CYII=";var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*!
     * Toastify js 1.11.2
     * https://github.com/apvarun/toastify-js
     * @license MIT licensed
     *
     * Copyright (C) 2018 Varun A P
     */
var l=function(t){var n={exports:{}};return t(n,n.exports),n.exports}((function(t){var n,e;n=s,e=function(t){var n=function(t){return new n.lib.init(t)};function e(t,n){return n.offset[t]?isNaN(n.offset[t])?n.offset[t]:n.offset[t]+"px":"0px"}function o(t,n){return!(!t||"string"!=typeof n||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(n)>-1))}return n.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,style:{background:""}},n.lib=n.prototype={toastify:"1.11.2",constructor:n,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||n.defaults.text,this.options.node=t.node||n.defaults.node,this.options.duration=0===t.duration?0:t.duration||n.defaults.duration,this.options.selector=t.selector||n.defaults.selector,this.options.callback=t.callback||n.defaults.callback,this.options.destination=t.destination||n.defaults.destination,this.options.newWindow=t.newWindow||n.defaults.newWindow,this.options.close=t.close||n.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":n.defaults.gravity,this.options.positionLeft=t.positionLeft||n.defaults.positionLeft,this.options.position=t.position||n.defaults.position,this.options.backgroundColor=t.backgroundColor||n.defaults.backgroundColor,this.options.avatar=t.avatar||n.defaults.avatar,this.options.className=t.className||n.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?n.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||n.defaults.onClick,this.options.offset=t.offset||n.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:n.defaults.escapeMarkup,this.options.style=t.style||n.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var n in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[n]=this.options.style[n];if(this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var o=document.createElement("img");o.src=this.options.avatar,o.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(o):t.insertAdjacentElement("afterbegin",o)}if(!0===this.options.close){var i=document.createElement("span");i.innerHTML="&#10006;",i.className="toast-close",i.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var r=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&r>360?t.insertAdjacentElement("afterbegin",i):t.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(n){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var s=e("x",this.options),l=e("y",this.options),d="left"==this.options.position?s:"-"+s,c="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+d+","+c+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var e=n.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,e),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),n.reposition()}.bind(this),400)}},n.reposition=function(){for(var t,n={top:15,bottom:15},e={top:15,bottom:15},i={top:15,bottom:15},r=document.getElementsByClassName("toastify"),a=0;a<r.length;a++){t=!0===o(r[a],"toastify-top")?"toastify-top":"toastify-bottom";var s=r[a].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(r[a].style[t]=i[t]+"px",i[t]+=s+15):!0===o(r[a],"toastify-left")?(r[a].style[t]=n[t]+"px",n[t]+=s+15):(r[a].style[t]=e[t]+"px",e[t]+=s+15)}return this},n.lib.init.prototype=n.lib,n},t.exports?t.exports=e():n.Toastify=e()}));const d=t=>Array.isArray(t),c=t=>"function"==typeof t,u=(t,n)=>t&&m(n)&&t instanceof n,p=t=>"number"==typeof t,f=(t,n=!0)=>"object"==typeof t&&(!n||u(t,Object)),m=t=>(t=>void 0!==t)(t)&&!(t=>null===t)(t),g=t=>"string"==typeof t,h=t=>t.toUpperCase(),w=t=>t.length,b=(t,n)=>m(n[0])&&t<n[0]?n[0]:m(n[1])&&t>n[1]?n[1]:t,k=(t,n=10)=>n?parseInt(t,n):parseFloat(t),v=t=>Object.keys(t),x=t=>p(t)?Math.round(t):null,y=(t,n=10)=>p(t)?t.toString(n):""+t,A=(...t)=>{let n=t.shift();for(let o=0,i=w(t);o<i;++o)for(let i in t[o])if(m(n[i]))if(d(n[i])&&d(t[o][i])){n[i]=[].concat(n[i]);for(let r=0,a=w(t[o][i]);r<a;++r)e=t[o][i][r],-1===n[i].indexOf(e)&&n[i].push(t[o][i][r])}else f(n[i])&&f(t[o][i])?n[i]=A({},n[i],t[o][i]):n[i]=t[o][i];else n[i]=t[o][i];var e;return n},E=t=>{if(d(t))return t.map((n=>E(t)));if(f(t)){for(let n in t)t[n]=E(t[n]);return t}return!1===t?"false":null===t?"null":!0===t?"true":""+t},T=document,q=window,S=T.body,L=T.documentElement,C=t=>t.parentNode||null,z=(t,n)=>(t.removeAttribute(n),t),M=(t,n,e)=>(!0===e&&(e=n),t.setAttribute(n,E(e)),t),N=(t,n)=>(t.append(n),n),O=(t,n,e)=>(t=g(t)?T.createElement(t):t,f(n)&&(e=n,n=!1),g(n)&&H(t,n),f(e)&&((t,n)=>{let e;for(let o in n)e=n[o],e||""===e||0===e?M(t,o,e):z(t,o)})(t,e),t),H=(t,n,e=!0)=>{if(null===n)return t;let o="innerHTML";return((t,n)=>n in t)(t,o)&&(t[o]=e?n.trim():n),t},_=(t,n,e)=>{return p(e)&&(e+="px"),t.style[(o=n,o.replace(/[-_.](\w)/g,((t,n)=>h(n))))]=E(e),t;var o},B=t=>t&&t.preventDefault(),F=(t,n,e)=>{t.forEach((t=>((t,n,e)=>{n.removeEventListener(t,e)})(t,n,e)))},R=(t,n,e,o=!1)=>{t.forEach((t=>((t,n,e,o=!1)=>{n.addEventListener(t,e,o)})(t,n,e,o)))};const U=(t,n)=>{let e=t.touches,o=e?e[0].clientX:t.clientX,i=e?e[0].clientY:t.clientY;if(n){let t=V(n);return[o-t[0],i-t[1],t[0],t[1]]}return[o,i]},V=t=>{let n,e,o,i,r,a,s;return(t=>t===q)(t)?(i=t.pageXOffset||L.scrollLeft||S.scrollLeft,r=t.pageYOffset||L.scrollTop||S.scrollTop,o=t.innerWidth,n=t.innerHeight):(e=t.getBoundingClientRect(),i=e.left,r=e.top,o=e.width,n=e.height,a=e.right,s=e.bottom),[i,r,o,n,a,s]},I="HEX",P=["touchstart","mousedown"],J=["touchmove","mousemove"],Q=["orientationchange","resize"],W=["touchend","mouseup"];let X=q.setTimeout;function D(t,n){if(t===n)return t;for(;(t=t.parentElement)&&t!==n;);return t}function K(t){let n,e,o,i,r,a,s,l,d=+t[0],c=+t[1],u=+t[2];switch(i=Math.floor(6*d),r=6*d-i,a=u*(1-c),s=u*(1-r*c),l=u*(1-(1-r)*c),i=i||0,s=s||0,l=l||0,i%6){case 0:n=u,e=l,o=a;break;case 1:n=s,e=u,o=a;break;case 2:n=a,e=u,o=l;break;case 3:n=a,e=s,o=u;break;case 4:n=l,e=a,o=u;break;case 5:n=u,e=a,o=s}return[x(255*n),x(255*e),x(255*o),m(t[3])?+t[3]:1]}function Y(t){let n,e,o=+t[0]/255,i=+t[1]/255,r=+t[2]/255,a=Math.max(o,i,r),s=Math.min(o,i,r),l=a,d=a-s;if(e=0===a?0:d/a,a===s)n=0;else{switch(a){case o:n=(i-r)/d+(i<r?6:0);break;case i:n=(r-o)/d+2;break;case r:n=(o-i)/d+4}n/=6}return[n,e,l,m(t[3])?+t[3]:1]}function Z(t,n={}){if(!t)return;const e=this;if(!u(e,Z))return new Z(t,n);if(t.CP)return;let{fire:o,hooks:i}=function(t){let n={};return t.hooks=n,t.fire=function(e,o){return m(n[e])?(n[e].forEach((n=>n.apply(t,o))),t):t},t.off=function(e,o){if(!m(e))return n={},t;if(m(n[e]))if(m(o)){for(let t=0,i=n[e].length;t<i;++t)if(o===n[e][t]){n[e].splice(t,1);break}0===j&&delete n[e]}else delete n[e];return t},t.on=function(e,o){return m(n[e])||(n[e]=[]),m(o)&&n[e].push(o),t},t}(e);function r(){return t.value?Z[c(Z[n.color])?n.color:I](t.value||""):[0,0,0,1]}var a;e.state=n=A(Z.state,g(n)?{color:n}:n||{}),e.source=t,e.visible=!1,Z.instances[t.id||t.name||(a=Z.instances,w(v(a)))]=e,t.CP=1;let s,l,d,p,h=n.class,k=()=>t.disabled,x=()=>t.readOnly,y=r(),E=Y(y),z=O("div",{class:h}),M=O("div"),H=O("div",{class:h+":sv"}),G=O("div",{class:h+":h"}),$=O("div",{class:h+":a"}),tt=O("div"),nt=O("div"),et=O("div"),ot=O("i"),it=O("div"),rt=O("i"),at=O("div"),st=O("div"),lt=O("i"),dt=0,ct=0,ut=0,pt=0,ft=0,mt=0;function gt(n){if(i.focus)o("focus",y);else{let e=n.target;t===D(e,t)?!C(z)&&s():l()}}return N(z,M),N(M,H),N(M,G),N(M,$),N(H,tt),N(H,nt),N(H,et),N(H,ot),N(G,it),N(G,rt),N($,at),N($,st),N($,lt),function a(u,g){function w(t){e.current=$,ut=mt=1,M(t),B(t)}function v(t){e.current=G,ct=ft=1,M(t),B(t)}function A(t){e.current=H,dt=pt=1,M(t),B(t)}function M(t){pt&&function(t){let n=U(t,H),e=b(n[0],[0,vt]),o=b(n[1],[0,bt]);E[1]=1-(vt-e)/vt,E[2]=(bt-o)/bt,O()}(t),ft&&function(t){E[0]=(yt-b(U(t,G)[1],[0,yt]))/yt,O()}(t),mt&&function(t){E[3]=(Et-b(U(t,$)[1],[0,Et]))/Et,O()}(t),y=K(E),(pt||ft||mt)&&(o(dt||ct||ut?"start":"drag",y),o("change",y)),dt=ct=ut=0}function O(){!function(t){m(t[1])&&_(ot,"right",vt-xt/2-vt*+t[1]),m(t[2])&&_(ot,"top",bt-kt/2-bt*+t[2]),m(t[0])&&_(rt,"top",yt-At/2-yt*+t[0]),m(t[3])&&_(lt,"top",Et-Tt/2-Et*+t[3])}(E);let t=K(E),n=K([E[0],1,1]);_(tt,"background-color","rgb("+n[0]+","+n[1]+","+n[2]+")"),_(at,"background-image","linear-gradient(rgb("+t[0]+","+t[1]+","+t[2]+"),transparent)")}function j(n){y=K(E);let r=n.target,a=t===D(r,t),s=z===D(r,z);e.current=null,a||s?s&&(pt||ft||mt)&&o("stop",y):i.blur?o("blur",y):pt||ft||mt||C(z)&&l(),pt=ft=mt=0}E=Y(y=r()),u||(N(g||S,z),e.visible=!0),s=t=>(k()||x()||(a(0,t),o("enter",y)),e),l=()=>k()||x()?e:(C(z)&&((t=>{let n=C(t);t.remove()})(z),e.current=null,e.visible=!1),F(P,H,A),F(P,G,v),F(P,$,w),F(J,T,M),F(W,T,j),F(Q,q,p),o("exit",y)),d=n=>{let e=V(L),i=V(t),r=V(q),a=r[3]-L.clientHeight,s=r[2]-e[2],l=V(z),d=l[3],c=l[2],u=i[0]+r[0],p=i[1]+r[1]+i[3];if(f(n))m(n[0])&&(u=n[0]),m(n[1])&&(p=n[1]);else{let t=r[0],n=r[1],e=r[0]+r[2]-c-s,o=r[1]+r[3]-d-a;u=b(u,[t,e])>>0,p=b(p,[n,o])>>0}return _(z,"left",u),_(z,"top",p),o("fit",y)},p=()=>d();let nt=V(H),et=V(ot),it=V(G),st=V(rt),ht=V($),wt=V(lt),bt=nt[3],kt=et[3],vt=nt[2],xt=et[2],yt=it[3],At=st[3],Et=ht[3],Tt=wt[3];var qt;u?(R(P,t,gt),X((()=>{o("change",y)}),1)):(R(P,H,A),R(P,G,v),R(P,$,w),R(J,T,M),R(W,T,j),R(Q,q,p),d()),O(),e.color=(t,e,o,i)=>Z[c(Z[n.color])?n.color:I]([t,e,o,i]),e.current=null,e.enter=s,e.exit=l,e.fit=d,e.get=()=>r(),e.pop=()=>{return t.CP?(delete t.CP,n=h+"-source",t.classList.remove(n),F(P,t,gt),l(),o("pop",y)):e;var n},e.set=(t,n,i,r)=>(e._set(t,n,i,r),o("change",[t,n,i,r])),e.self=z,e._set=(t,n,o,i)=>(E=Y([t,n,o,i]),O(),e),qt=h+"-source",t.classList.add(qt)}(1),e}Z.HEX=t=>{if(g(t)){let n=w(t=t.trim());if(4!==n&&7!==n||"#"!==t[0]){if((5===n||9===n)&&"#"===t[0]&&/^#([a-f\d]{3,4}){1,2}$/i.test(t))return 5===n?[k(t[1]+t[1],16),k(t[2]+t[2],16),k(t[3]+t[3],16),k(t[4]+t[4],16)/255]:[k(t[1]+t[2],16),k(t[3]+t[4],16),k(t[5]+t[6],16),k(t[7]+t[8],16)/255]}else if(/^#([a-f\d]{3}){1,2}$/i.test(t))return 4===n?[k(t[1]+t[1],16),k(t[2]+t[2],16),k(t[3]+t[3],16),1]:[k(t[1]+t[2],16),k(t[3]+t[4],16),k(t[5]+t[6],16),1];return[0,0,0,1]}return"#"+("000000"+y(+t[2]|+t[1]<<8|+t[0]<<16,16)).slice(-6)+(m(t[3])&&t[3]<1?y(x(255*t[3])+65536,16).substr(-2):"")},Z.instances={},Z.state={class:"color-picker",color:I},Z.version="2.3.2";const G="#198754",$="#dc3545",tt="#ffc107";let nt,et={},ot={},it={},rt=!1,at={transitions:{add:"Add transition",edit:"Edit transition",delete:"Delete transition",deleteConfirmation:{title:"Are you sure?",deleteBtn:"Yes!",cancelBtn:"No"},saveForm:{action:"Action",newStatus:"New status",saveBtn:"Save",color:"Color",cancelBtn:"Cancel"}},messages:{server:{notResponding:"Error! The server is not responding.",internalError:"Error! The server encountered an internal error."},scenario:{updated:"The scenario is updated successfully"},transitions:{notFound:"Error! Scenario not found.",delete:{alreadyUsed:"The transition or/and one or more of its children are already used"}}}};function st(t){const n=document.querySelector(t),e=new Z(n);e&&(lt(t),e.on("change",(function(t,e,o,i){this.source.value=this.color(t,e,o,i),n.parentNode.querySelector("label .color-chosen").style.backgroundColor=this.color(t,e,o,i)})),function(t,n){if(console.log(t,n),t.hasColorPallete)return;t.hasColorPallete=!0;let e,o=document.createElement("span");for(let i=0,r=n.length;i<r;++i)e=document.createElement("span"),e.title="#"+n[i],e.style.backgroundColor="#"+n[i],e.addEventListener("click",(function(n){t.set.apply(t,Z.HEX(this.title)),n.stopPropagation()})),o.appendChild(e);o.className="color-pickers",t.self.appendChild(o)}(e,["e8ecfb","cecece","824d99","4e78c4","57a2ac","7eb875","d0b541","e67f33","ce2220","521a13"]))}function lt(t){const n=Z.instances[t.replace("#","")];if(n){const e=document.querySelector(t);if(e.getAttribute("data-color-picker-value")){const t=Z.HEX(e.getAttribute("data-color-picker-value"));setTimeout((()=>{n.set(t[0],t[1],t[2],t[3])}),1)}else n.set(0,0,0,0)}}function dt(){var t=new XMLHttpRequest;ht("Loading scenario..."),t.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){et=JSON.parse(this.responseText);const t=document.querySelector("#workflow-makr-chart-container #loading-workflow-makr");t&&(t.style.opacity=0),setTimeout((()=>{ht("Printing scenario..."),function(t){let n="";n+='<div id="workflow-makr-org-container">',n+='<div class="workflow-makr-org">',n+="<ul>",n+='<li data-transition="null">',n+='<div class="node start" data-transition="null">',n+='<img src="'+a+'" data-transition-id="null" class="add-btn" title="'+at.transitions.add+'"/>',n+="</div>",n+='<ul data-parent="null">',t.forEach((t=>n+=gt(t))),n+="</ul>",n+="</li>",n+="</ul>",n+="</div>",n+="</div>",document.querySelector(nt+" #workflow-makr-chart-container").innerHTML=n}(ct(et.transitions));const t=document.querySelectorAll("[data-color-picker-value]");for(let n=0;n<t.length;++n)st("#"+t[n].getAttribute("id"));ut()}),500)}else 404==this.status?wt($,at.messages.transitions.notFound):500==this.status?wt($,at.messages.server.internalError):wt($,at.messages.server.notResponding)},t.open("GET",it.path+"/workflowmakr/scenarios/"+it.scenario_id,!0),t.setRequestHeader("accept","application/json"),it.request_headers&&Object.keys(it.request_headers).forEach((function(n){t.setRequestHeader(n,it.request_headers[n])})),t.send()}function ct(t,n=0){n++;const e=[];return t.forEach((t=>{e.push({id:t.id,old_status:t.old_status,new_status:t.new_status,action:t.action,color:t.color,predecessor:t.predecessor_id,transitions:ct(t.children,n)}),ot["level-"+n]||(ot["level-"+n]=[]),ot["level-"+n].push(t.id)})),e}function ut(){let t=0;ot&&Object.keys(ot).forEach((function(n){ot[n].length>t&&(t=ot[n].length)})),document.querySelector(nt+" #workflow-makr-chart-container").style.minWidth=0==t?"100%":360*t+"px"}function pt(){let t=document.querySelector("#workflow-makr-org-container li.to-create");t&&t.remove(),t=document.querySelector("#workflow-makr-org-container ul:empty"),t&&t.remove(),t=document.querySelector(".node.to-delete"),t&&t.classList.remove("to-delete"),t=document.querySelector(".node.saving"),t&&t.classList.remove("saving"),ut()}function ft(t,n){let e=null;return t.forEach((t=>{t.id==n?e=t:t.children&&t.children.length&&!e&&(e=ft(t.children,n))})),e}function mt(t){t.innerHTML="",t.style.display="none"}function gt(t){let n="";return n+='<li data-transition="'+t.id+'">',n+='<div class="node" data-transition="'+t.id+'">',n+='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1ElEQVQ4jZWTTUiUURSGn/PNzx2SmEqNUhQKwS9y0KxAghZKKEPECLmthZUU0WJmEahbFxHkQIH9YJs2tRByoBoUaShXQUQlgeWYM5gQCrX1jjm3xdRM8zlf1Lu6HM5z73nvOUdwyo6EsDgPdIM0FIJmGZgmzzjzibk/06V4agorlIpjuFgWL5dBuIPWUdJJXbqgKazwB5JgOl1AhyRFbj1MOqktAJSK/zsMYDpRarRQgR0JYck7t7IDykfs7Cka91QzcneCL6vfS3byptXDbnsYpMMNHhro4+TxNiInjlHlF57Mvi36wJKcF+h2gydvDrLwOcOL1/MAZFe+OpyYHqvUqq1weinD4ZDN9qoAT1++If5wxpEpDZYTVn4fiVuDLC5laW+xef8pQ33tDq6NP2Zdb2yp1Po1JEVd7e/lWeoVh1qamVvIUlcTpC92g9yPfAWjZtkLTAP271BHazP762u4NzFD19EDnI66wYDIlIdqewWR4vTtrd1JcJuftdU1rlx/wIYbDAYjFwq9P9g7huGSW2bl1xnjw+TlwidqHQVJ/Qf+HK1jAB4AvqU3Ce57hNe7CzjC35fpNuI7w8dEjoqJdiSER85hTE/ZOotMsWnuO9f5J1WVkw2yAfLvAAAAAElFTkSuQmCC" data-transition-id="'+t.id+'" class="edit-btn" title="'+at.transitions.edit+'" />',n+='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACD0lEQVQ4T42TTWsTURSG3zMTJ8Quou0PEKlx60fozSQVqaEU8zdctIIbwUX6QaHQTT9BEPsF/o5qqTK17QyTKoorbaL4B9rUhVTSmTlybzJxJo3i3d1z7/vcc95zLqFjOaZ5W/f9MSYqBsAVeaz5/nfo+htiXhMHBx+jEgo377LZi76uPwPwoBMaEzBveInE44LjnMq4ArTErwDc+Zc4PGPgbaDr9yVEAVwhXoQv942M4NiywI1GjKUlk7hcLOJoczOMr+cqlYcka9aC4L2MSnH/7CxObBvVcrkN0QwDmeVlpIVAbWoKx9vbCkLMt6gyMLDORKMqYBi4Pj+PdKGAH7aNw3JZ1ZhZWkI6l0N9Zwe1yUmw54VZrJIrRBXAtTASgzgOQIS0aaK+u4va+HhUDAa+kCNEQwMuxJyWmSwsIJ3Pq/DJ3h6qUnx2FvMlABpdAarmxUX1sgLs7zcBHcYqgJvNHkLXMyFaiVs1S6FclwYHu0KY6LP0YA3AmJq4ZLIpFqJZ88SE8iAzN9cVQszPZRduMtEH1cZSCf0zM+fclsaGkK/T0zja2lKZMdENNUjRVvYOD6MuB+lPq5o9Nwz0Dg1FxSum6z5SADufT2m+/5KAu/8zysRs/ezpKd2zrF/tzyQhCc97Gg7V30BMtHKaSj2R4vZnil5ueTLKQJGBq+oS0TctCF4HmrZhuu6n6P3fcCns3XprXkoAAAAASUVORK5CYII=" data-transition-id="'+t.id+'" class="delete-btn" title="'+at.transitions.delete+'" />',n+='<div class="action" '+(t.action.designation.length>15?'title = "'+t.action.designation+'"':"")+">"+t.action.designation+"</div>",n+='<div class="status" '+(t.new_status.designation.length>15?'title = "'+t.new_status.designation+'"':"")+">"+t.new_status.designation+"</div>",n+='<img src="'+a+'" data-transition-id="'+t.id+'" class="add-btn" title="'+at.transitions.add+'" />',n+='<div class="delete-confirmation">            <p>'+at.transitions.deleteConfirmation.title+'</p>            <div>                <a data-delete-transition="'+t.id+'">'+at.transitions.deleteConfirmation.deleteBtn+'</a>                <a data-cancel-delete-transition="'+t.id+'">'+at.transitions.deleteConfirmation.cancelBtn+"</a>            </div>        </div>",n+='<form class="save-form">            <label for="transition-action-'+t.id+'">'+at.transitions.saveForm.action+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="actions" data-target="#transition-action-autocomplete-'+t.id+'" id="transition-action-'+t.id+'" value="'+t.action.designation+'" />                <div class="autocomplete-result" id="transition-action-autocomplete-'+t.id+'"></div>            </div>            <label for="transition-new-status-'+t.id+'">'+at.transitions.saveForm.newStatus+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="statuses" data-target="#transition-new-status-autocomplete-'+t.id+'" id="transition-new-status-'+t.id+'" value="'+t.new_status.designation+'" />                <div class="autocomplete-result" id="transition-new-status-autocomplete-'+t.id+'"></div>            </div>            <div class="color-picker-container">                <label for="transition-color-'+t.id+'">'+at.transitions.saveForm.color+' <span class="color-chosen"></span></label>                <input id="transition-color-'+t.id+'" value="" data-color-picker-value="'+t.color+'" />            </div>            <div>                <a data-update-transition="'+t.id+'">'+at.transitions.saveForm.saveBtn+'</a>                <a data-cancel-update-transition="'+t.id+'">'+at.transitions.saveForm.cancelBtn+"</a>            </div>        </form>",n+="</div>",t.transitions&&t.transitions.length&&(n+='<ul data-parent="'+t.id+'">',t.transitions.forEach((t=>{n+=gt(t)})),n+="</ul>"),n+="</li>",n}function ht(t){it&&it.debug&&console.log(t)}function wt(t,n){const e={text:n,duration:it.toast_time_out,close:!0,gravity:"top",position:"right",backgroundColor:t,stopOnFocus:!0};l(e).showToast()}t.init=function(t){it=t,function(t){t.i18n&&(at=t.i18n);t.toast_time_out?it.toast_time_out=t.toast_time_out:it.toast_time_out=9e3}(t),nt=t.selector,document.querySelector(nt).innerHTML='<div id="workflow-makr-chart-container"></div>',document.querySelector(nt+" #workflow-makr-chart-container").innerHTML='<div id="loading-workflow-makr"><div class="loader"><span></span></div></div>',ht("Initializing the workflow makr ui..."),dt(),document.querySelector(nt).addEventListener("click",(function(t){const n=t.target;var e;n.classList.contains("add-btn")&&function(t){pt();const n=t.getAttribute("data-transition-id"),e=n?ft(et.transitions,t.getAttribute("data-transition-id")):null,o=document.querySelector('li[data-transition="'+n+'"]');let i=document.querySelector('ul[data-parent="'+n+'"]');i||(o.insertAdjacentHTML("beforeend",'<ul data-parent="'+n+'"></ul>'),i=document.querySelector('ul[data-parent="'+n+'"]'));let r="";r+='<li class="to-create">',r+='<div class="node saving">',r+='<form class="save-form">            <label for="transition-action-to-create">'+at.transitions.saveForm.action+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="actions" data-target="#transition-action-autocomplete-to-create" id="transition-action-to-create" value="" />                <div class="autocomplete-result" id="transition-action-autocomplete-to-create"></div>            </div>            <label for="transition-new-status-to-create">'+at.transitions.saveForm.newStatus+'</label>            <div class="autocomplete-container">                <div class="loader"><span></span></div>                <input class="autocomplete" data-target-model="statuses" data-target="#transition-new-status-autocomplete-to-create" id="transition-new-status-to-create" value="" />                <div class="autocomplete-result" id="transition-new-status-autocomplete-to-create"></div>            </div>            <div class="color-picker-container">                <label for="transition-color-to-create">'+at.transitions.saveForm.color+' <span class="color-chosen"></span></label>                <input id="transition-color-to-create" value="" />            </div>            <div>                <a data-create-transition="'+(e?e.id:null)+'">'+at.transitions.saveForm.saveBtn+'</a>                <a data-cancel-create-transition="true">'+at.transitions.saveForm.cancelBtn+"</a>            </div>        </form>",r+="</div>",r+="</li>",i.insertAdjacentHTML("afterbegin",r),ut(),st("#transition-color-to-create")}(n),n.getAttribute("data-create-transition")&&function(t){document.querySelector(nt+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",r);var n=new XMLHttpRequest;ht("Creating transition..."),n.onreadystatechange=function(){if(4==this.readyState&&(200==this.status&&(dt(),wt(G,at.messages.scenario.updated)),404==this.status&&(console.error("Failed creating transition..."),console.error("Error",this.status,this.statusText)),422==this.status)){console.error("Failed creating transition..."),console.error("Error",this.status,this.statusText);const t=JSON.parse(this.responseText).messages;let n="<p>";t.new_status&&t.new_status.forEach((t=>n+=t+"<br />")),t.action&&t.action.forEach((t=>n+=t+"<br />")),t.old_status&&t.old_status.forEach((t=>n+=t+"<br />")),t.predecessor_id&&t.predecessor_id.forEach((t=>n+=t+"<br />")),t.scenario_id&&t.scenario_id.forEach((t=>n+=t+"<br />")),n+="</p>",wt(tt,n),document.querySelector("#saving-transition-loader").remove()}},n.open("POST",it.path+"/workflowmakr/transitions",!0),n.setRequestHeader("accept","application/json"),it.request_headers&&Object.keys(it.request_headers).forEach((function(t){n.setRequestHeader(t,it.request_headers[t])}));const e="li.to-create .node.saving .save-form input#transition-action-to-create",o="li.to-create .node.saving .save-form input#transition-new-status-to-create",i="li.to-create .node.saving .save-form input#transition-color-to-create",a=t.getAttribute("data-create-transition"),s=a?ft(et.transitions,a):null;n.send(JSON.stringify({action:document.querySelector(e).value,old_status:s?s.new_status.designation:null,new_status:document.querySelector(o).value,color:document.querySelector(i).value,predecessor_id:s?s.id:null,scenario_id:et.id}))}(n),n.getAttribute("data-cancel-create-transition")&&pt(),n.classList.contains("edit-btn")&&function(t){const n=+t.getAttribute("data-transition-id");pt(),document.querySelector('.node[data-transition="'+n+'"]').classList.add("saving")}(n),n.getAttribute("data-cancel-update-transition")&&(e=n,document.querySelector('.node[data-transition="'+e.getAttribute("data-cancel-update-transition")+'"]').classList.remove("saving"),document.querySelector('.node[data-transition="'+e.getAttribute("data-cancel-update-transition")+'"] form.save-form').reset(),document.querySelector('.node[data-transition="'+e.getAttribute("data-cancel-update-transition")+'"] .autocomplete-container').classList.remove("loading"),lt("#transition-color-"+e.getAttribute("data-cancel-update-transition"))),n.getAttribute("data-update-transition")&&function(t){document.querySelector(nt+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",r);var n=new XMLHttpRequest;ht("Updating transition..."),n.onreadystatechange=function(){if(4==this.readyState&&(200==this.status&&(dt(),wt(G,at.messages.scenario.updated)),404==this.status&&(console.error("Failed updating transition..."),console.error("Error",this.status,this.statusText)),422==this.status)){console.error("Failed updating transition..."),console.error("Error",this.status,this.statusText);const t=JSON.parse(this.responseText).messages;let n="<p>";t.new_status&&t.new_status.forEach((t=>n+=t+"<br />")),t.action&&t.action.forEach((t=>n+=t+"<br />")),t.old_status&&t.old_status.forEach((t=>n+=t+"<br />")),t.predecessor_id&&t.predecessor_id.forEach((t=>n+=t+"<br />")),n+="</p>",wt(tt,n),document.querySelector("#saving-transition-loader").remove()}},n.open("PUT",it.path+"/workflowmakr/transitions/"+t.getAttribute("data-update-transition"),!0),n.setRequestHeader("accept","application/json"),it.request_headers&&Object.keys(it.request_headers).forEach((function(t){n.setRequestHeader(t,it.request_headers[t])}));const e='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-action-'+t.getAttribute("data-update-transition"),o='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-new-status-'+t.getAttribute("data-update-transition"),i='.node[data-transition="'+t.getAttribute("data-update-transition")+'"] .save-form input#transition-color-'+t.getAttribute("data-update-transition"),a=ft(et.transitions,+t.getAttribute("data-update-transition"));n.send(JSON.stringify({action:document.querySelector(e).value,old_status:a.old_status?a.old_status.designation:null,new_status:document.querySelector(o).value,color:document.querySelector(i).value,predecessor_id:a.predecessor_id}))}(n),n.classList.contains("delete-btn")&&function(t){const n=+t.getAttribute("data-transition-id");pt(),document.querySelector('.node[data-transition="'+n+'"]').classList.add("to-delete")}(n),n.getAttribute("data-cancel-delete-transition")&&function(t){document.querySelector('.node[data-transition="'+t.getAttribute("data-cancel-delete-transition")+'"]').classList.remove("to-delete")}(n),n.getAttribute("data-delete-transition")&&function(t){document.querySelector(nt+" #workflow-makr-chart-container").insertAdjacentHTML("beforeend",i);var n=new XMLHttpRequest;ht("Deleting transition..."),n.onreadystatechange=function(){4==this.readyState&&(200==this.status&&(dt(),wt(G,at.messages.scenario.updated)),404==this.status&&(console.error("Failed deleting transition..."),console.error("Error",this.status,this.statusText)),422==this.status&&(console.error("Failed deleting transition..."),console.error("Error",this.status,this.statusText),wt(tt,at.messages.transitions.delete.alreadyUsed),document.querySelector("#deleting-transition-loader").remove()))},n.open("DELETE",it.path+"/workflowmakr/transitions/"+t.getAttribute("data-delete-transition"),!0),n.setRequestHeader("accept","application/json"),it.request_headers&&Object.keys(it.request_headers).forEach((function(t){n.setRequestHeader(t,it.request_headers[t])})),n.send()}(n)})),document.querySelector(nt).addEventListener("keyup",(function(t){const n=t.target;n.classList.contains("autocomplete")&&function(t){if(!rt){rt=!0;const n=t.closest(".autocomplete-container");n.classList.add("loading"),setTimeout((function(){if(t.closest(".node").classList.contains("saving")){const o=document.querySelector(t.getAttribute("data-target"));if(!t.value)return n.classList.remove("loading"),rt=!1,void mt(o);var e=new XMLHttpRequest;ht("Loading autocomplete data..."),e.onreadystatechange=function(){if(n.classList.remove("loading"),rt=!1,4==this.readyState)if(200==this.status){const n=new RegExp("^"+t.value,"i");let e=!1,i=document.createDocumentFragment();const r=JSON.parse(this.responseText).data.map((t=>t.designation));for(let o=0;o<r.length;o++)if(n.test(r[o])){e=!0;const n=document.createElement("p");n.innerText=r[o],n.setAttribute("onclick","const autocomplete = document.querySelector('[data-target=\""+t.getAttribute("data-target")+"\"]'); const autocompleteContainer = document.querySelector(autocomplete.getAttribute('data-target'));    autocomplete.value = this.innerText; autocompleteContainer.innerHTML = '';  autocompleteContainer.style.display = 'none';"),i.appendChild(n)}if(1==e)return o.innerHTML="",o.style.display="block",void o.appendChild(i);mt(o)}else 500==this.status?wt($,at.messages.server.internalError):wt($,at.messages.server.notResponding)},e.open("GET",it.path+"/workflowmakr/"+t.getAttribute("data-target-model")+"?q="+t.value,!0),e.setRequestHeader("accept","application/json"),it.request_headers&&Object.keys(it.request_headers).forEach((function(t){e.setRequestHeader(t,it.request_headers[t])})),e.send()}}),300)}}(n)}))},Object.defineProperty(t,"__esModule",{value:!0})}));
